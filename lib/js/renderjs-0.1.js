(function(exports){exports.renderjs={};var MatrixStack=(function(){function a(b,c,d){'use asm';var k=new b.Float32Array(d);var l=b.Math.imul;var m=b.Math.fround;var n=b.Math.floor;var o=b.Math.sin;var p=b.Math.cos;var q=b.Math.tan;var r=b.Math.sqrt;function s(f2){f2=f2|0;f2=f2<<6;k[f2+0>>2]=m(1.0);k[f2+4>>2]=m(0.0);k[f2+8>>2]=m(0.0);k[f2+12>>2]=m(0.0);k[f2+16>>2]=m(0.0);k[f2+20>>2]=m(1.0);k[f2+24>>2]=m(0.0);k[f2+28>>2]=m(0.0);k[f2+32>>2]=m(0.0);k[f2+36>>2]=m(0.0);k[f2+40>>2]=m(1.0);k[f2+44>>2]=m(0.0);k[f2+48>>2]=m(0.0);k[f2+52>>2]=m(0.0);k[f2+56>>2]=m(0.0);k[f2+60>>2]=m(1.0);}function u(f2,w,x,y,z){f2=f2|0;w= +w;x= +x;y= +y;z= +z;var k2=0.0;var l2=0.0;f2=f2<<6;k2=1.0/q(w/2.0);l2=1.0/(y-z);k[f2+0>>2]=m(k2/x);k[f2+4>>2]=m(0.0);k[f2+8>>2]=m(0.0);k[f2+12>>2]=m(0.0);k[f2+16>>2]=m(0.0);k[f2+20>>2]=m(k2);k[f2+24>>2]=m(0.0);k[f2+28>>2]=m(0.0);k[f2+32>>2]=m(0.0);k[f2+36>>2]=m(0.0);k[f2+40>>2]=m((y+z)*l2);k[f2+44>>2]=m(-1.0);k[f2+48>>2]=m(0.0);k[f2+52>>2]=m(0.0);k[f2+56>>2]=m(((y*z)*l2)*2.0);k[f2+60>>2]=m(0.0);}function a1(d2,b2){d2=d2|0;b2=b2|0;var m2=m(0.0),n2=m(0.0),o2=m(0.0),p2=m(0.0),q2=m(0.0),r2=m(0.0),s2=m(0.0),t2=m(0.0),u2=m(0.0),v2=m(0.0),w2=m(0.0),x2=m(0.0),y2=m(0.0),z2=m(0.0),a3=m(0.0),b3=m(0.0);d2=d2<<6;b2=b2<<6;m2=m(m(m(m(k[b2+0>>2])*m(k[d2+0>>2]))+m(m(k[b2+4>>2])*m(k[d2+16>>2])))+m(m(m(k[b2+8>>2])*m(k[d2+32>>2]))+m(m(k[b2+12>>2])*m(k[d2+48>>2]))));n2=m(m(m(m(k[b2+0>>2])*m(k[d2+4>>2]))+m(m(k[b2+4>>2])*m(k[d2+20>>2])))+m(m(m(k[b2+8>>2])*m(k[d2+36>>2]))+m(m(k[b2+12>>2])*m(k[d2+52>>2]))));o2=m(m(m(m(k[b2+0>>2])*m(k[d2+8>>2]))+m(m(k[b2+4>>2])*m(k[d2+24>>2])))+m(m(m(k[b2+8>>2])*m(k[d2+40>>2]))+m(m(k[b2+12>>2])*m(k[d2+56>>2]))));p2=m(m(m(m(k[b2+0>>2])*m(k[d2+12>>2]))+m(m(k[b2+4>>2])*m(k[d2+28>>2])))+m(m(m(k[b2+8>>2])*m(k[d2+44>>2]))+m(m(k[b2+12>>2])*m(k[d2+60>>2]))));q2=m(m(m(m(k[b2+16>>2])*m(k[d2+0>>2]))+m(m(k[b2+20>>2])*m(k[d2+16>>2])))+m(m(m(k[b2+24>>2])*m(k[d2+32>>2]))+m(m(k[b2+28>>2])*m(k[d2+48>>2]))));r2=m(m(m(m(k[b2+16>>2])*m(k[d2+4>>2]))+m(m(k[b2+20>>2])*m(k[d2+20>>2])))+m(m(m(k[b2+24>>2])*m(k[d2+36>>2]))+m(m(k[b2+28>>2])*m(k[d2+52>>2]))));s2=m(m(m(m(k[b2+16>>2])*m(k[d2+8>>2]))+m(m(k[b2+20>>2])*m(k[d2+24>>2])))+m(m(m(k[b2+24>>2])*m(k[d2+40>>2]))+m(m(k[b2+28>>2])*m(k[d2+56>>2]))));t2=m(m(m(m(k[b2+16>>2])*m(k[d2+12>>2]))+m(m(k[b2+20>>2])*m(k[d2+28>>2])))+m(m(m(k[b2+24>>2])*m(k[d2+44>>2]))+m(m(k[b2+28>>2])*m(k[d2+60>>2]))));u2=m(m(m(m(k[b2+32>>2])*m(k[d2+0>>2]))+m(m(k[b2+36>>2])*m(k[d2+16>>2])))+m(m(m(k[b2+40>>2])*m(k[d2+32>>2]))+m(m(k[b2+44>>2])*m(k[d2+48>>2]))));v2=m(m(m(m(k[b2+32>>2])*m(k[d2+4>>2]))+m(m(k[b2+36>>2])*m(k[d2+20>>2])))+m(m(m(k[b2+40>>2])*m(k[d2+36>>2]))+m(m(k[b2+44>>2])*m(k[d2+52>>2]))));w2=m(m(m(m(k[b2+32>>2])*m(k[d2+8>>2]))+m(m(k[b2+36>>2])*m(k[d2+24>>2])))+m(m(m(k[b2+40>>2])*m(k[d2+40>>2]))+m(m(k[b2+44>>2])*m(k[d2+56>>2]))));x2=m(m(m(m(k[b2+32>>2])*m(k[d2+12>>2]))+m(m(k[b2+36>>2])*m(k[d2+28>>2])))+m(m(m(k[b2+40>>2])*m(k[d2+44>>2]))+m(m(k[b2+44>>2])*m(k[d2+60>>2]))));y2=m(m(m(m(k[b2+48>>2])*m(k[d2+0>>2]))+m(m(k[b2+52>>2])*m(k[d2+16>>2])))+m(m(m(k[b2+56>>2])*m(k[d2+32>>2]))+m(m(k[b2+60>>2])*m(k[d2+48>>2]))));z2=m(m(m(m(k[b2+48>>2])*m(k[d2+4>>2]))+m(m(k[b2+52>>2])*m(k[d2+20>>2])))+m(m(m(k[b2+56>>2])*m(k[d2+36>>2]))+m(m(k[b2+60>>2])*m(k[d2+52>>2]))));a3=m(m(m(m(k[b2+48>>2])*m(k[d2+8>>2]))+m(m(k[b2+52>>2])*m(k[d2+24>>2])))+m(m(m(k[b2+56>>2])*m(k[d2+40>>2]))+m(m(k[b2+60>>2])*m(k[d2+56>>2]))));b3=m(m(m(m(k[b2+48>>2])*m(k[d2+12>>2]))+m(m(k[b2+52>>2])*m(k[d2+28>>2])))+m(m(m(k[b2+56>>2])*m(k[d2+44>>2]))+m(m(k[b2+60>>2])*m(k[d2+60>>2]))));k[d2+0>>2]=m2;k[d2+4>>2]=n2;k[d2+8>>2]=o2;k[d2+12>>2]=p2;k[d2+16>>2]=q2;k[d2+20>>2]=r2;k[d2+24>>2]=s2;k[d2+28>>2]=t2;k[d2+32>>2]=u2;k[d2+36>>2]=v2;k[d2+40>>2]=w2;k[d2+44>>2]=x2;k[d2+48>>2]=y2;k[d2+52>>2]=z2;k[d2+56>>2]=a3;k[d2+60>>2]=b3;}function d1(d2,b2){d2=d2|0;b2=b2|0;var c3=m(0.0),d3=m(0.0),e3=m(0.0),f3=m(0.0),g3=m(0.0),h3=m(0.0),i3=m(0.0),j3=m(0.0),k3=m(0.0),l3=m(0.0),m3=m(0.0),n3=m(0.0),o3=m(0.0),p3=m(0.0),q3=m(0.0),r3=m(0.0);d2=d2<<6;b2=b2<<6;c3=m(m(m(m(k[d2+0>>2])*m(k[b2+0>>2]))+m(m(k[d2+4>>2])*m(k[b2+16>>2])))+m(m(m(k[d2+8>>2])*m(k[b2+32>>2]))+m(m(k[d2+12>>2])*m(k[b2+48>>2]))));d3=m(m(m(m(k[d2+0>>2])*m(k[b2+4>>2]))+m(m(k[d2+4>>2])*m(k[b2+20>>2])))+m(m(m(k[d2+8>>2])*m(k[b2+36>>2]))+m(m(k[d2+12>>2])*m(k[b2+52>>2]))));e3=m(m(m(m(k[d2+0>>2])*m(k[b2+8>>2]))+m(m(k[d2+4>>2])*m(k[b2+24>>2])))+m(m(m(k[d2+8>>2])*m(k[b2+40>>2]))+m(m(k[d2+12>>2])*m(k[b2+56>>2]))));f3=m(m(m(m(k[d2+0>>2])*m(k[b2+12>>2]))+m(m(k[d2+4>>2])*m(k[b2+28>>2])))+m(m(m(k[d2+8>>2])*m(k[b2+44>>2]))+m(m(k[d2+12>>2])*m(k[b2+60>>2]))));g3=m(m(m(m(k[d2+16>>2])*m(k[b2+0>>2]))+m(m(k[d2+20>>2])*m(k[b2+16>>2])))+m(m(m(k[d2+24>>2])*m(k[b2+32>>2]))+m(m(k[d2+28>>2])*m(k[b2+48>>2]))));h3=m(m(m(m(k[d2+16>>2])*m(k[b2+4>>2]))+m(m(k[d2+20>>2])*m(k[b2+20>>2])))+m(m(m(k[d2+24>>2])*m(k[b2+36>>2]))+m(m(k[d2+28>>2])*m(k[b2+52>>2]))));i3=m(m(m(m(k[d2+16>>2])*m(k[b2+8>>2]))+m(m(k[d2+20>>2])*m(k[b2+24>>2])))+m(m(m(k[d2+24>>2])*m(k[b2+40>>2]))+m(m(k[d2+28>>2])*m(k[b2+56>>2]))));j3=m(m(m(m(k[d2+16>>2])*m(k[b2+12>>2]))+m(m(k[d2+20>>2])*m(k[b2+28>>2])))+m(m(m(k[d2+24>>2])*m(k[b2+44>>2]))+m(m(k[d2+28>>2])*m(k[b2+60>>2]))));k3=m(m(m(m(k[d2+32>>2])*m(k[b2+0>>2]))+m(m(k[d2+36>>2])*m(k[b2+16>>2])))+m(m(m(k[d2+40>>2])*m(k[b2+32>>2]))+m(m(k[d2+44>>2])*m(k[b2+48>>2]))));l3=m(m(m(m(k[d2+32>>2])*m(k[b2+4>>2]))+m(m(k[d2+36>>2])*m(k[b2+20>>2])))+m(m(m(k[d2+40>>2])*m(k[b2+36>>2]))+m(m(k[d2+44>>2])*m(k[b2+52>>2]))));m3=m(m(m(m(k[d2+32>>2])*m(k[b2+8>>2]))+m(m(k[d2+36>>2])*m(k[b2+24>>2])))+m(m(m(k[d2+40>>2])*m(k[b2+40>>2]))+m(m(k[d2+44>>2])*m(k[b2+56>>2]))));n3=m(m(m(m(k[d2+32>>2])*m(k[b2+12>>2]))+m(m(k[d2+36>>2])*m(k[b2+28>>2])))+m(m(m(k[d2+40>>2])*m(k[b2+44>>2]))+m(m(k[d2+44>>2])*m(k[b2+60>>2]))));o3=m(m(m(m(k[d2+48>>2])*m(k[b2+0>>2]))+m(m(k[d2+52>>2])*m(k[b2+16>>2])))+m(m(m(k[d2+56>>2])*m(k[b2+32>>2]))+m(m(k[d2+60>>2])*m(k[b2+48>>2]))));p3=m(m(m(m(k[d2+48>>2])*m(k[b2+4>>2]))+m(m(k[d2+52>>2])*m(k[b2+20>>2])))+m(m(m(k[d2+56>>2])*m(k[b2+36>>2]))+m(m(k[d2+60>>2])*m(k[b2+52>>2]))));q3=m(m(m(m(k[d2+48>>2])*m(k[b2+8>>2]))+m(m(k[d2+52>>2])*m(k[b2+24>>2])))+m(m(m(k[d2+56>>2])*m(k[b2+40>>2]))+m(m(k[d2+60>>2])*m(k[b2+56>>2]))));r3=m(m(m(m(k[d2+48>>2])*m(k[b2+12>>2]))+m(m(k[d2+52>>2])*m(k[b2+28>>2])))+m(m(m(k[d2+56>>2])*m(k[b2+44>>2]))+m(m(k[d2+60>>2])*m(k[b2+60>>2]))));k[d2+0>>2]=c3;k[d2+4>>2]=d3;k[d2+8>>2]=e3;k[d2+12>>2]=f3;k[d2+16>>2]=g3;k[d2+20>>2]=h3;k[d2+24>>2]=i3;k[d2+28>>2]=j3;k[d2+32>>2]=k3;k[d2+36>>2]=l3;k[d2+40>>2]=m3;k[d2+44>>2]=n3;k[d2+48>>2]=o3;k[d2+52>>2]=p3;k[d2+56>>2]=q3;k[d2+60>>2]=r3;}function g1(f2,g2,h2,i2){f2=f2|0;g2= +g2;h2= +h2;i2= +i2;var s3=0.0,t3=0.0,u3=0.0,v3=0.0;f2=f2<<6;s3=((g2*  +k[f2+0>>2]+h2*  +k[f2+16>>2])+i2*  +k[f2+32>>2])+  +k[f2+48>>2];t3=((g2*  +k[f2+4>>2]+h2*  +k[f2+20>>2])+i2*  +k[f2+36>>2])+  +k[f2+52>>2];u3=((g2*  +k[f2+8>>2]+h2*  +k[f2+24>>2])+i2*  +k[f2+40>>2])+  +k[f2+56>>2];v3=((g2*  +k[f2+12>>2]+h2*  +k[f2+28>>2])+i2*  +k[f2+44>>2])+  +k[f2+60>>2];k[f2+48>>2]=m(s3);k[f2+52>>2]=m(t3);k[f2+56>>2]=m(u3);k[f2+60>>2]=m(v3);}function l1(f2,g2,h2,i2){f2=f2|0;g2= +g2;h2= +h2;i2= +i2;f2=f2<<6;k[f2+0>>2]=m(g2*  +k[f2+0>>2]);k[f2+4>>2]=m(g2*  +k[f2+4>>2]);k[f2+8>>2]=m(g2*  +k[f2+8>>2]);k[f2+12>>2]=m(g2*  +k[f2+12>>2]);k[f2+16>>2]=m(h2*  +k[f2+16>>2]);k[f2+20>>2]=m(h2*  +k[f2+20>>2]);k[f2+24>>2]=m(h2*  +k[f2+24>>2]);k[f2+28>>2]=m(h2*  +k[f2+28>>2]);k[f2+32>>2]=m(i2*  +k[f2+32>>2]);k[f2+36>>2]=m(i2*  +k[f2+36>>2]);k[f2+40>>2]=m(i2*  +k[f2+40>>2]);k[f2+44>>2]=m(i2*  +k[f2+44>>2]);}function q1(d2,s1,g2,h2,i2){d2=d2|0;s1= +s1;g2= +g2;h2= +h2;i2= +i2;var w3=0.0,x3=0.0,y3=0.0,z3=0.0,a4=0.0,b4=0.0,c4=0.0;d2=d2<<6;x3=g2*g2;y3=h2*h2;z3=i2*i2;w3=r((x3+y3)+z3);a4=p(s1);b4=o(s1);c4=1.0-a4;g2=g2/w3;h2=h2/w3;i2=i2/w3;k[d2+0>>2]=m(a4+x3*c4);k[d2+4>>2]=m((g2*h2)*c4+i2*b4);k[d2+8>>2]=m((g2*i2)*c4-h2*b4);k[d2+12>>2]=m(0.0);k[d2+16>>2]=m((g2*h2)*c4-i2*b4);k[d2+20>>2]=m(a4+y3*c4);k[d2+24>>2]=m((h2*i2)*c4+g2*b4);k[d2+28>>2]=m(0.0);k[d2+32>>2]=m((g2*i2)*c4+h2*b4);k[d2+36>>2]=m((h2*i2)*c4-g2*b4);k[d2+40>>2]=m(a4+z3*c4);k[d2+44>>2]=m(0.0);k[d2+48>>2]=m(0.0);k[d2+52>>2]=m(0.0);k[d2+56>>2]=m(0.0);k[d2+60>>2]=m(1.0);}function w1(d2,b2){d2=d2|0;b2=b2|0;var d4=0;d2=d2<<6;b2=b2<<6;for(;(d4|0)<64;d4=(d4|0)+4|0)k[d2+d4>>2]=m(k[b2+d4>>2]);}function z1(d2,b2){d2=d2|0;b2=b2|0;var e4=0.0,f4=0.0;var g4=0.0,h4=0.0,i4=0.0,j4=0.0,k4=0.0,l4=0.0;var m4=0.0,n4=0.0,o4=0.0,p4=0.0,q4=0.0,r4=0.0;d2=d2<<6;b2=b2<<6;if( +k[b2+12>>2]==0.0)if( +k[b2+28>>2]==0.0)if( +k[b2+44>>2]==0.0){g4= +k[b2+20>>2]*  +k[b2+40>>2]- +k[b2+36>>2]*  +k[b2+24>>2];h4= +k[b2+36>>2]*  +k[b2+8>>2]- +k[b2+4>>2]*  +k[b2+40>>2];i4= +k[b2+4>>2]*  +k[b2+24>>2]- +k[b2+20>>2]*  +k[b2+8>>2];f4=(g4*  +k[b2+0>>2]+h4*  +k[b2+16>>2])+i4*  +k[b2+32>>2];if(-2.38e-7<=f4&&f4<=2.38e-7)return 0;e4= +1/f4;k[d2+0>>2]=m(g4*e4);k[d2+4>>2]=m(h4*e4);k[d2+8>>2]=m(i4*e4);k[d2+16>>2]=m(( +k[b2+32>>2]*  +k[b2+24>>2]- +k[b2+16>>2]*  +k[b2+40>>2])*e4);k[d2+20>>2]=m(( +k[b2+0>>2]*  +k[b2+40>>2]- +k[b2+32>>2]*  +k[b2+8>>2])*e4);k[d2+24>>2]=m(( +k[b2+16>>2]*  +k[b2+8>>2]- +k[b2+0>>2]*  +k[b2+24>>2])*e4);k[d2+32>>2]=m(( +k[b2+16>>2]*  +k[b2+36>>2]- +k[b2+32>>2]*  +k[b2+20>>2])*e4);k[d2+36>>2]=m(( +k[b2+32>>2]*  +k[b2+4>>2]- +k[b2+0>>2]*  +k[b2+36>>2])*e4);k[d2+40>>2]=m(( +k[b2+0>>2]*  +k[b2+20>>2]- +k[b2+16>>2]*  +k[b2+4>>2])*e4);k[d2+48>>2]=m(-(( +k[d2+0>>2]*  +k[b2+48>>2]+ +k[d2+16>>2]*  +k[b2+52>>2])+ +k[d2+32>>2]*  +k[b2+56>>2]));k[d2+52>>2]=m(-(( +k[d2+4>>2]*  +k[b2+48>>2]+ +k[d2+20>>2]*  +k[b2+52>>2])+ +k[d2+36>>2]*  +k[b2+56>>2]));k[d2+56>>2]=m(-(( +k[d2+8>>2]*  +k[b2+48>>2]+ +k[d2+24>>2]*  +k[b2+52>>2])+ +k[d2+40>>2]*  +k[b2+56>>2]));k[d2+12>>2]=m(0.0);k[d2+28>>2]=m(0.0);k[d2+44>>2]=m(0.0);k[d2+60>>2]=m(1.0);return 1;}g4= +k[b2+0>>2]*  +k[b2+20>>2]- +k[b2+4>>2]*  +k[b2+16>>2];h4= +k[b2+0>>2]*  +k[b2+36>>2]- +k[b2+4>>2]*  +k[b2+32>>2];i4= +k[b2+0>>2]*  +k[b2+52>>2]- +k[b2+4>>2]*  +k[b2+48>>2];j4= +k[b2+16>>2]*  +k[b2+36>>2]- +k[b2+20>>2]*  +k[b2+32>>2];k4= +k[b2+16>>2]*  +k[b2+52>>2]- +k[b2+20>>2]*  +k[b2+48>>2];l4= +k[b2+32>>2]*  +k[b2+52>>2]- +k[b2+36>>2]*  +k[b2+48>>2];r4= +k[b2+40>>2]*  +k[b2+60>>2]- +k[b2+44>>2]*  +k[b2+56>>2];q4= +k[b2+24>>2]*  +k[b2+60>>2]- +k[b2+28>>2]*  +k[b2+56>>2];p4= +k[b2+24>>2]*  +k[b2+44>>2]- +k[b2+28>>2]*  +k[b2+40>>2];o4= +k[b2+8>>2]*  +k[b2+60>>2]- +k[b2+12>>2]*  +k[b2+56>>2];n4= +k[b2+8>>2]*  +k[b2+44>>2]- +k[b2+12>>2]*  +k[b2+40>>2];m4= +k[b2+8>>2]*  +k[b2+28>>2]- +k[b2+12>>2]*  +k[b2+24>>2];f4=((((g4*r4-h4*q4)+i4*p4)+j4*o4)-k4*n4)+l4*m4;if(-2.38e-7<=f4&&f4<=2.38e-7)return 0;e4= +1/f4;k[d2+0>>2]=(( +k[b2+20>>2]*r4- +k[b2+36>>2]*q4)+ +k[b2+52>>2]*p4)*e4;k[d2+16>>2]=((- +k[b2+16>>2]*r4+ +k[b2+32>>2]*q4)- +k[b2+48>>2]*p4)*e4;k[d2+32>>2]=(( +k[b2+28>>2]*l4- +k[b2+44>>2]*k4)+ +k[b2+60>>2]*j4)*e4;k[d2+48>>2]=((- +k[b2+24>>2]*l4+ +k[b2+40>>2]*k4)- +k[b2+56>>2]*j4)*e4;k[d2+4>>2]=((- +k[b2+4>>2]*r4+ +k[b2+36>>2]*o4)- +k[b2+52>>2]*n4)*e4;k[d2+20>>2]=(( +k[b2+0>>2]*r4- +k[b2+32>>2]*o4)+ +k[b2+48>>2]*n4)*e4;k[d2+36>>2]=((- +k[b2+12>>2]*l4+ +k[b2+44>>2]*i4)- +k[b2+60>>2]*h4)*e4;k[d2+52>>2]=(( +k[b2+8>>2]*l4- +k[b2+40>>2]*i4)+ +k[b2+56>>2]*h4)*e4;k[d2+8>>2]=(( +k[b2+4>>2]*q4- +k[b2+20>>2]*o4)+ +k[b2+52>>2]*m4)*e4;k[d2+24>>2]=((- +k[b2+0>>2]*q4+ +k[b2+16>>2]*o4)- +k[b2+48>>2]*m4)*e4;k[d2+40>>2]=(( +k[b2+12>>2]*k4- +k[b2+28>>2]*i4)+ +k[b2+60>>2]*g4)*e4;k[d2+56>>2]=((- +k[b2+8>>2]*k4+ +k[b2+24>>2]*i4)- +k[b2+56>>2]*g4)*e4;k[d2+12>>2]=((- +k[b2+4>>2]*p4+ +k[b2+20>>2]*n4)- +k[b2+36>>2]*m4)*e4;k[d2+28>>2]=(( +k[b2+0>>2]*p4- +k[b2+16>>2]*n4)+ +k[b2+32>>2]*m4)*e4;k[d2+44>>2]=((- +k[b2+12>>2]*j4+ +k[b2+28>>2]*h4)- +k[b2+44>>2]*g4)*e4;k[d2+60>>2]=(( +k[b2+8>>2]*j4- +k[b2+24>>2]*h4)+ +k[b2+40>>2]*g4)*e4;return 1;}function c2(d2){d2=d2|0;var s4=m(0.0);d2=d2<<6;s4=m(k[d2+4>>2]);k[d2+4>>2]=m(k[d2+16>>2]);k[d2+16>>2]=m(s4);s4=m(k[d2+8>>2]);k[d2+8>>2]=m(k[d2+32>>2]);k[d2+32>>2]=m(s4);s4=m(k[d2+12>>2]);k[d2+12>>2]=m(k[d2+48>>2]);k[d2+48>>2]=m(s4);s4=m(k[d2+24>>2]);k[d2+24>>2]=m(k[d2+36>>2]);k[d2+36>>2]=m(s4);s4=m(k[d2+28>>2]);k[d2+28>>2]=m(k[d2+52>>2]);k[d2+52>>2]=m(s4);s4=m(k[d2+44>>2]);k[d2+44>>2]=m(k[d2+56>>2]);k[d2+56>>2]=m(s4);}function e2(f2,g2,h2,i2,j2){f2=f2|0;g2= +g2;h2= +h2;i2= +i2;j2= +j2;var t4=0.0,u4=0.0,v4=0.0,w4=0.0;f2=f2<<6;t4=((g2*  +k[f2+0>>2]+h2*  +k[f2+16>>2])+i2*  +k[f2+32>>2])+j2*  +k[f2+48>>2];u4=((g2*  +k[f2+4>>2]+h2*  +k[f2+20>>2])+i2*  +k[f2+36>>2])+j2*  +k[f2+52>>2];v4=((g2*  +k[f2+8>>2]+h2*  +k[f2+24>>2])+i2*  +k[f2+40>>2])+j2*  +k[f2+56>>2];w4=((g2*  +k[f2+12>>2]+h2*  +k[f2+28>>2])+i2*  +k[f2+44>>2])+j2*  +k[f2+60>>2];k[0>>2]=m(t4);k[4>>2]=m(u4);k[8>>2]=m(v4);k[12>>2]=m(w4);}return {identity:s,perspective:u,rotation:q1,translate:g1,scale:l1,lmul:d1,rmul:a1,copy:w1,invert:z1,transpose:c2,transform:e2};}function e(){var x4=65536;var y4=new ArrayBuffer(x4);var z4=new Float32Array(y4,0,x4>>4);var a5=new a(window,null,y4);var b5=1;a5.identity(1);this.identity=function(){a5.identity(b5);};this.perspective=function(fieldOfView,aspectRatio,near,far){a5.perspective(b5,((2*Math.PI)*fieldOfView)/360.0,aspectRatio,near,far);};this.translate=function(g,y,z){a5.translate(b5,g,y,z);};this.scale=function(g,y,z){a5.scale(b5,g,y,z);};this.rotate=function(deg,vector){a5.rotation(0,((2*Math.PI)*deg)/360.0,vector[0],vector[1],vector[2]);a5.rmul(b5,0);};this.push=function(){if(b5+1==x4>>6)throw {error:'too many matrices on stack'};a5.copy(b5+1,b5);b5++;};this.pop=function(){if(b5<2)throw {error:'nothing to pop'};b5--;};this.swap=function(){if(b5<2)throw {error:'nothing to swap'};a5.copy(0,b5);a5.copy(b5,b5-1);a5.copy(b5-1,0);};this.copyDown=function(){a5.copy(b5,b5-1);};this.mul=function(){if(b5<2)throw {error:'too few matrices on stack to multiply'};a5.rmul(b5-1,b5);b5--;};this.lmul=function(){if(b5<2)throw {error:'too few matrices on stack to multiply'};a5.lmul(b5-1,b5);b5--;};this.det=function(){var c5=b5<<4;var d5=z4[c5+5]*z4[c5+10]-z4[c5+9]*z4[c5+6];var e5=z4[c5+1]*z4[c5+10]-z4[c5+2]*z4[c5+9];var f5=z4[c5+1]*z4[c5+6]-z4[c5+5]*z4[c5+2];return (d5*z4[c5+0]-e5*z4[c5+4])+f5*z4[c5+8];};this.transform=function(g,y,z,w){if((y==undefined&&z==undefined)&&w==undefined){var g5=1;if(g.length==4)g5=g[3];a5.transform(b5,g[0],g[1],g[2],g5);if(g.length==4)return [z4[0],z4[1],z4[2],z4[3]];return [z4[0]/z4[3],z4[1]/z4[3],z4[2]/z4[3]];} else {if(w!=undefined){a5.transform(b5,g,y,z,w);return [z4[0],z4[1],z4[2],z4[3]];} else {a5.transform(b5,g,y,z,1);return [z4[0]/z4[3],z4[1]/z4[3],z4[2]/z4[3]];}}return [z4[0],z4[1],z4[2]];};this.invert=function(){if(!a5.invert(0,b5))return false;a5.copy(b5,0);return true;};this.transpose=function(){a5.transpose(b5);};this.qrDecompose=function(){this.push();var h5=b5<<4;a5.identity(b5-1);var s5=z4[(h5+4*0)+0],t5=z4[(h5+4*0)+1],u5=z4[(h5+4*0)+2],v5=z4[(h5+4*0)+3];var w5=Math.sqrt(((s5*s5+t5*t5)+u5*u5)+v5*v5);if(w5>0){var x5=[s5,t5,u5,v5];if(s5>=0)x5[0]+=w5; else x5[0]-=w5;x5[1]/=x5[0];x5[2]/=x5[0];x5[3]/=x5[0];x5[0]=1;var y5=2/(((1+x5[1]*x5[1])+x5[2]*x5[2])+x5[3]*x5[3]);this.loadRowMajor([[1-(y5*x5[0])*x5[0],(-y5*x5[0])*x5[1],(-y5*x5[0])*x5[2],(-y5*x5[0])*x5[3]],[(-y5*x5[1])*x5[0],1-(y5*x5[1])*x5[1],(-y5*x5[1])*x5[2],(-y5*x5[1])*x5[3]],[(-y5*x5[2])*x5[0],(-y5*x5[2])*x5[1],1-(y5*x5[2])*x5[2],(-y5*x5[2])*x5[3]],[(-y5*x5[3])*x5[0],(-y5*x5[3])*x5[1],(-y5*x5[3])*x5[2],1-(y5*x5[3])*x5[3]]],b5);a5.lmul(b5,0);a5.rmul(b5-1,0);}var s5=0,t5=z4[(h5+4*1)+1],u5=z4[(h5+4*1)+2],v5=z4[(h5+4*1)+3];var w5=Math.sqrt((t5*t5+u5*u5)+v5*v5);if(w5>0){var z5=[0,t5,u5,v5];if(t5>=0)z5[1]+=w5; else z5[1]-=w5;z5[2]/=z5[1];z5[3]/=z5[1];z5[1]=1;var a6=2/(((0+1)+z5[2]*z5[2])+z5[3]*z5[3]);this.loadRowMajor([[1,0,0,0],[0,1-(a6*z5[1])*z5[1],(-a6*z5[1])*z5[2],(-a6*z5[1])*z5[3]],[0,(-a6*z5[2])*z5[1],1-(a6*z5[2])*z5[2],(-a6*z5[2])*z5[3]],[0,(-a6*z5[3])*z5[1],(-a6*z5[3])*z5[2],1-(a6*z5[3])*z5[3]]],b5);a5.lmul(b5,0);a5.rmul(b5-1,0);}var s5=0,t5=0,u5=z4[(h5+4*2)+2],v5=z4[(h5+4*2)+3];var w5=Math.sqrt(u5*u5+v5*v5);if(w5>0){var b6=[0,0,u5,v5];if(u5>=0)b6[2]+=w5; else b6[2]-=w5;b6[3]/=b6[2];b6[2]=1;var c6=2/(((0+0)+1)+b6[3]*b6[3]);this.loadRowMajor([[1,0,0,0],[0,1,0,0],[0,0,1-(c6*b6[2])*b6[2],(-c6*b6[2])*b6[3]],[0,0,(-c6*b6[3])*b6[2],1-(c6*b6[3])*b6[3]]],b5);a5.lmul(b5,0);a5.rmul(b5-1,0);}this.loadRowMajor([[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,-1]],b5);a5.lmul(b5,0);a5.rmul(b5-1,0);};this.getBasisAndNullSpace=function(){this.push();this.transpose();this.qrDecompose();this.pop();var d6=this.getColMajor();this.pop();var e6=[];var f6=[];for(var g6=0;g6<d6.length;++g6){var h6=d6[g6];var i6=this.transform(h6[0],h6[1],h6[2],h6[3]);var j6=((i6[0]*i6[0]+i6[1]*i6[1])+i6[2]*i6[2])+i6[3]*i6[3];if(j6<2.38e-7)f6.push(h6); else e6.push(h6);}return {basis:e6,nulls:f6};};this.loadQuaternion=function(w,g,y,z,stackIndex){if(typeof y=='undefined'&&typeof w[1]!='undefined'){g=w[1];y=w[2];z=w[3];w=w[0];stackIndex=g;}var k6=b5-(stackIndex|0)<<4;z4[k6+0]=(1-(2*y)*y)-(2*z)*z;z4[k6+4]=(2*g)*y-(2*z)*w;z4[k6+8]=(2*g)*z+(2*y)*w;z4[k6+1]=(2*g)*y+(2*z)*w;z4[k6+5]=(1-(2*g)*g)-(2*z)*z;z4[k6+9]=(2*y)*z-(2*g)*w;z4[k6+2]=(2*g)*z-(2*y)*w;z4[k6+6]=(2*y)*z+(2*g)*w;z4[k6+10]=(1-(2*g)*g)-(2*y)*y;z4[k6+3]=0;z4[k6+7]=0;z4[k6+11]=0;z4[k6+12]=0;z4[k6+13]=0;z4[k6+14]=0;z4[k6+15]=1;};this.loadRowMajor=function(i,stackIndex){var l6=b5-(stackIndex|0)<<4;if(i instanceof e){return this.load(i,stackIndex);}if(typeof i[0]=='undefined')i=arguments;if(typeof i[0][0]!='undefined'){z4[l6+0]=i[0][0];z4[l6+4]=i[0][1];z4[l6+8]=i[0][2];z4[l6+12]=i[0][3];z4[l6+1]=i[1][0];z4[l6+5]=i[1][1];z4[l6+9]=i[1][2];z4[l6+13]=i[1][3];z4[l6+2]=i[2][0];z4[l6+6]=i[2][1];z4[l6+10]=i[2][2];z4[l6+14]=i[2][3];z4[l6+3]=i[3][0];z4[l6+7]=i[3][1];z4[l6+11]=i[3][2];z4[l6+15]=i[3][3];} else {z4[l6+0]=i[0];z4[l6+4]=i[1];z4[l6+8]=i[2];z4[l6+12]=i[3];z4[l6+1]=i[4];z4[l6+5]=i[5];z4[l6+9]=i[6];z4[l6+13]=i[7];z4[l6+2]=i[8];z4[l6+6]=i[9];z4[l6+10]=i[10];z4[l6+14]=i[11];z4[l6+3]=i[12];z4[l6+7]=i[13];z4[l6+11]=i[14];z4[l6+15]=i[15];}};this.load=this.loadColMajor=function(i,stackIndex){var m6=b5-(stackIndex|0)<<4;if(i instanceof e)i=i.getData();if(typeof i[0]=='undefined')i=arguments;if(typeof i[0][0]!='undefined'){z4[m6+0]=i[0][0];z4[m6+4]=i[1][0];z4[m6+8]=i[2][0];z4[m6+12]=i[3][0];z4[m6+1]=i[0][1];z4[m6+5]=i[1][1];z4[m6+9]=i[2][1];z4[m6+13]=i[3][1];z4[m6+2]=i[0][2];z4[m6+6]=i[1][2];z4[m6+10]=i[2][2];z4[m6+14]=i[3][2];z4[m6+3]=i[0][3];z4[m6+7]=i[1][3];z4[m6+11]=i[2][3];z4[m6+15]=i[3][3];} else {z4[m6+0]=i[0];z4[m6+4]=i[4];z4[m6+8]=i[8];z4[m6+12]=i[12];z4[m6+1]=i[1];z4[m6+5]=i[5];z4[m6+9]=i[9];z4[m6+13]=i[13];z4[m6+2]=i[2];z4[m6+6]=i[6];z4[m6+10]=i[10];z4[m6+14]=i[14];z4[m6+3]=i[3];z4[m6+7]=i[7];z4[m6+11]=i[11];z4[m6+15]=i[15];}};this.getData=function(stackIndex){stackIndex=stackIndex|0;return new Float32Array(y4,b5-stackIndex<<6,64>>2);};this.getRowMajor=function(stackIndex){var n6=b5-(stackIndex|0)<<4;return [[z4[n6+0],z4[n6+4],z4[n6+8],z4[n6+12]],[z4[n6+1],z4[n6+5],z4[n6+9],z4[n6+13]],[z4[n6+2],z4[n6+6],z4[n6+10],z4[n6+14]],[z4[n6+3],z4[n6+7],z4[n6+11],z4[n6+15]]];};this.getColMajor=function(stackIndex){var o6=b5-(stackIndex|0)<<4;return [[z4[o6+0],z4[o6+1],z4[o6+2],z4[o6+3]],[z4[o6+4],z4[o6+5],z4[o6+6],z4[o6+7]],[z4[o6+8],z4[o6+9],z4[o6+10],z4[o6+11]],[z4[o6+12],z4[o6+13],z4[o6+14],z4[o6+15]]];};this.reset=function(){b5=1;this.identity();};Object.defineProperty(this,'length',{get:function(){return b5;}});}function f(g){var p6=g.toFixed(2);if(g>0)return ' '+p6;return p6;}function h(i,j){console.log(Array.from(i.getData(j)).map(f).join(', '));}e.debugDumpMatrix=h;if(typeof window!='undefined'&&typeof window.Math.fround=='undefined')window.Math.fround=function(g){return g;};if(typeof window!='undefined'&&typeof window.Math.imul=='undefined')window.Math.imul=function(g,y){return g*y;};return e;})();renderjs.MatrixStack=MatrixStack;var Bezier=(function(){var q6=400;var r6=function(duration){return 1.0/(200.0*duration);};var s6=function(p1x,p1y,p2x,p2y){var t6=3.0*p1x;var u6=3.0*(p2x-p1x)-t6;var v6=(1.0-t6)-u6;var w6=3.0*p1y;var x6=3.0*(p2y-p1y)-w6;var y6=(1.0-w6)-x6;var z6=function(t){return ((v6*t+u6)*t+t6)*t;};var a7=function(t){return ((y6*t+x6)*t+w6)*t;};var b7=function(t){return ((3.0*v6)*t+2.0*u6)*t+t6;};var c7=function(x,epsilon){var e7;var f7;var g7;var h7;var i7;var j7;for(g7=x,j7=0;j7<8;j7++){h7=z6(g7)-x;if(Math.abs(h7)<epsilon){return g7;}i7=b7(g7);if(Math.abs(i7)<1e-6){break;}g7=g7-h7/i7;}e7=0.0;f7=1.0;g7=x;if(g7<e7){return e7;}if(g7>f7){return f7;}while(e7<f7){h7=z6(g7);if(Math.abs(h7-x)<epsilon){return g7;}if(x>h7){e7=g7;} else {f7=g7;}g7=(f7-e7)*0.5+e7;}return g7;};var d7=function(x,epsilon){return a7(c7(x,epsilon));};return function(x,duration){return d7(x,r6( +duration||q6));};};return {linear:s6(0.0,0.0,1.0,1.0),ease:s6(0.25,0.1,0.25,1.0),easeIn:s6(0.42,0,1.0,1.0),easeOut:s6(0,0,0.58,1.0),easeInOut:s6(0.42,0,0.58,1.0),cubicBezier:function(p1x,p1y,p2x,p2y,x,duration){return s6(p1x,p1y,p2x,p2y)(x,duration);}};})();renderjs.Bezier=Bezier;var Geometry=(function(){function k7(l7,m7,n7){if((l7!=undefined&&m7==undefined)&&n7==undefined){this.x=l7.x||l7[0];this.y=l7.y||l7[1];this.z=l7.z||l7[2];} else {this.x= +(l7||0);this.y= +(m7||0);this.z= +(n7||0);}}Object.defineProperty(k7.prototype,0,{get:function(){return this.x;},set:function(l7){this.x=l7;}});Object.defineProperty(k7.prototype,1,{get:function(){return this.y;},set:function(m7){this.y=m7;}});Object.defineProperty(k7.prototype,2,{get:function(){return this.z;},set:function(n7){this.z=n7;}});Object.defineProperty(k7.prototype,'length',{get:function(){return Math.sqrt((this.x*this.x+this.y*this.y)+this.z*this.z);},set:function(newLength){var d9=this.length;this.x*=newLength/d9;this.y*=newLength/d9;this.z*=newLength/d9;}});Object.defineProperty(k7.prototype,'direction',{get:function(){var e9=this.length;return new k7(this.x/e9,this.y/e9,this.z/e9);},set:function(newDirection){var f9=this.length;var g9=newDirection.length;this.x=(newDirection.x*f9)/g9;this.y=(newDirection.y*f9)/g9;this.z=(newDirection.z*f9)/g9;}});Object.defineProperty(k7.prototype,'reverse',{get:function(){return new k7(-this.x,-this.y,-this.z);}});k7.prototype.multiply=function(s){this.x*=s;this.y*=s;this.z*=s;return this;};k7.prototype.dot=function(other){return (this.x*other.x+this.y*other.y)+this.z*other.z;};k7.dot=function(v1,v2){return (v1.x*v2.x+v1.y*v2.y)+v1.z*v2.z;};k7.prototype.colinearWith=function(that){var h9=k7.dot(this,this);var i9=k7.dot(that,that);var j9=h9*i9;var k9=k7.dot(this,that);return k9*k9-j9<2.38e-7;};k7.prototype.add=function(other){this.x+=other.x;this.y+=other.y;this.z+=other.z;return this;};k7.add=function(v1,v2){return new k7(v1.x+v2.x,v1.y+v2.y,v1.z+v2.z);};k7.prototype.subtract=function(other){this.x-=other.x;this.y-=other.y;this.z-=other.z;return this;};k7.subtract=function(v1,v2){return new k7(v1.x-v2.x,v1.y-v2.y,v1.z-v2.z);};k7.prototype.cross=function(other){return new k7(this.y*other.z-this.z*other.y,this.z*other.x-this.x*other.y,this.x*other.y-this.y*other.x);};function o7(p7,q7){if(typeof p7!='undefined'&&(p7 instanceof o7 || p7.length==2)){this.re=p7[0];this.im=p7[1];} else {this.re= +(p7||0);this.im= +(q7||0);}}Object.defineProperty(o7.prototype,'0',{get:function(){return this.re;}});Object.defineProperty(o7.prototype,'1',{get:function(){return this.im;}});o7.add=function(a,b){if(a instanceof o7){if(b instanceof o7)return new o7(a.re+b.re,a.im+b.im); else return new o7(a.re+b,a.im);} else {if(b instanceof o7)return new o7(a+b.re,b.im); else return new o7(a+b,0);}};o7.sub=function(a,b){if(a instanceof o7){if(b instanceof o7)return new o7(a.re-b.re,a.im-b.im); else return new o7(a.re-b,a.im);} else {if(b instanceof o7)return new o7(a-b.re,b.im); else return new o7(a-b,0);}};o7.mul=function(a,b){if(a instanceof o7){if(b instanceof o7)return new o7(a.re*b.re-a.im*b.im,a.re*b.im+a.im*b.re); else return new o7(a.re*b,a.im*b);} else {if(b instanceof o7)return new o7(a*b.re,a*b.im); else return new o7(a*b,0);}};o7.div=function(a,b){if(a instanceof o7){if(b instanceof o7){var l9=1.0/(b.re*b.re+b.im*b.im);return new o7((a.re*b.re+a.im*b.im)*l9,(a.im*b.re-a.re*b.im)*l9);} else {return new o7(a.re/b,a.im/b);}} else {if(b instanceof o7){var m9=1.0/(b.re*b.re+b.im*b.im);return new o7((a*b.re)*m9,(-a*b.im)*m9);} else {return new o7(a/b,0);}}};function r7(){var n9=arguments[0]<0?-1:arguments[0]==0?0:1;for(var o9=1;o9<arguments.length;++o9)if((arguments[o9]<0?-1:arguments[o9]==0?0:1)!=n9)return false;return true;}var s7={Polar:{project:function(l7,m7,n7){if(m7==undefined&&n7==undefined){m7=l7[1];n7=l7[2];l7=l7[0];}var p9=Math.sqrt((l7*l7+m7*m7)+n7*n7);var q9=Math.acos(m7/p9)/Math.PI;var r9=Math.atan2(l7,n7)/(2*Math.PI)+0.5;return [r9,q9];},getTextureCoordinates:function(v1,v2,v3){var s9=[s7.Polar.project(v1),s7.Polar.project(v2),s7.Polar.project(v3)];if(((v1[2]<0||v2[2]<0)||v3[2]<0)&&!r7(v1[0],v2[0],v3[0])){if(v1[0]<0)s9[0][0]+=1;if(v2[0]<0)s9[1][0]+=1;if(v3[0]<0)s9[2][0]+=1;}if(v1[1]==1||v1[1]== -1){s9[0][0]=(s9[1][0]+s9[2][0])/2;s9[0][1]=v1[1]==1?0:1;} else if(v2[1]==1||v2[1]== -1){s9[1][0]=(s9[0][0]+s9[2][0])/2;s9[1][1]=v2[1]==1?0:1;} else if(v3[1]==1||v3[1]== -1){s9[2][0]=(s9[0][0]+s9[1][0])/2;s9[2][1]=v3[1]==1?0:1;}return s9;}},Mercator:{project:function(l7,m7,n7){if(m7==undefined&&n7==undefined){m7=l7[1];n7=l7[2];l7=l7[0];}var t9=Math.sqrt((l7*l7+m7*m7)+n7*n7);var u9,v9;u9=Math.asin(m7/t9);v9=Math.atan2(l7,n7);var w9=v9/(2*Math.PI)+0.5;var x9=0.5-Math.log(Math.tan((u9+Math.PI/2)/2))/(2*Math.PI);return [w9,x9];},getTextureCoordinates:function(v1,v2,v3){var y9=[s7.Mercator.project(v1),s7.Mercator.project(v2),s7.Mercator.project(v3)];if(((v1[2]<0||v2[2]<0)||v3[2]<0)&&!r7(v1[0],v2[0],v3[0])){if(v1[0]<0)y9[0][0]+=1;if(v2[0]<0)y9[1][0]+=1;if(v3[0]<0)y9[2][0]+=1;}if(v1[1]==1||v1[1]== -1){y9[0][0]=(y9[1][0]+y9[2][0])/2;y9[0][1]=v1[1]==1?0:1;} else if(v2[1]==1||v2[1]== -1){y9[1][0]=(y9[0][0]+y9[2][0])/2;y9[1][1]=v2[1]==1?0:1;} else if(v3[1]==1||v3[1]== -1){y9[2][0]=(y9[0][0]+y9[1][0])/2;y9[2][1]=v3[1]==1?0:1;}return y9;}},HammerAitoff:{project:function(l7,m7,n7,outer){if(m7==undefined&&n7==undefined){m7=l7[1];n7=l7[2];l7=l7[0];}var z9=Math.sqrt((l7*l7+m7*m7)+n7*n7);var a10,b10;a10=Math.asin(m7/z9);b10=Math.atan2(l7,n7);if(outer&&b10<0){b10=b10+2*Math.PI;}var c10=Math.sqrt(1+Math.cos(a10)*Math.cos(b10/2));var d10=(Math.cos(a10)*Math.sin(b10/2))/c10;var e10=Math.sin(a10)/c10;return [(d10+1)/2,(1-e10)/2];},getTextureCoordinates:function(v1,v2,v3){var f10=[s7.HammerAitoff.project(v1),s7.HammerAitoff.project(v2),s7.HammerAitoff.project(v3)];if(!r7(v1[0],v2[0],v3[0])){var j10=v1[0]*(v2[2]-v1[2])-v1[2]*(v2[0]-v1[0]);var k10=v2[0]*(v3[2]-v2[2])-v2[2]*(v3[0]-v2[0]);var l10=v3[0]*(v1[2]-v3[2])-v3[2]*(v1[0]-v3[0]);var m10=((((j10<0&&k10<0)&&l10<0||(j10>=0&&k10>=0)&&l10>=0)||v1[0]==0&&v1[2]==0)||v2[0]==0&&v2[2]==0)||v3[0]==0&&v3[2]==0;if(m10){} else if((v1[2]<0||v2[2]<0)||v3[2]<0){if(v1[0]==0){if(v2[0]<0)f10[1]=s7.HammerAitoff.project(v2[0],v2[1],v2[2],true);if(v3[0]<0)f10[2]=s7.HammerAitoff.project(v3[0],v3[1],v3[2],true);}if(v2[0]==0){if(v1[0]<0)f10[0]=s7.HammerAitoff.project(v1[0],v1[1],v1[2],true);if(v3[0]<0)f10[2]=s7.HammerAitoff.project(v3[0],v3[1],v3[2],true);}if(v3[0]==0){if(v1[0]<0)f10[0]=s7.HammerAitoff.project(v1[0],v1[1],v1[2],true);if(v2[0]<0)f10[1]=s7.HammerAitoff.project(v2[0],v2[1],v2[2],true);}}}var g10=Math.sqrt((f10[1][0]-f10[2][0])*(f10[1][0]-f10[2][0])+(f10[1][1]-f10[2][1])*(f10[1][1]-f10[2][1]));var h10=Math.sqrt((f10[0][0]-f10[2][0])*(f10[0][0]-f10[2][0])+(f10[0][1]-f10[2][1])*(f10[0][1]-f10[2][1]));var i10=Math.sqrt((f10[0][0]-f10[1][0])*(f10[0][0]-f10[1][0])+(f10[0][1]-f10[1][1])*(f10[0][1]-f10[1][1]));if((g10>0.5||h10>0.5)||i10>0.5){console.log((((g10+',')+h10)+',')+i10);}return f10;}}};function t7(a9){var n10=[];for(var p10=0;p10<a9.vertices.length;++p10)n10.push([]);for(var p10=0;p10<a9.faces.length;++p10){if(n10[a9.faces[p10][0]].indexOf(a9.faces[p10][1])<0)n10[a9.faces[p10][0]].push(a9.faces[p10][1]);if(n10[a9.faces[p10][1]].indexOf(a9.faces[p10][2])<0)n10[a9.faces[p10][1]].push(a9.faces[p10][2]);if(n10[a9.faces[p10][2]].indexOf(a9.faces[p10][0])<0)n10[a9.faces[p10][2]].push(a9.faces[p10][0]);if(n10[a9.faces[p10][1]].indexOf(a9.faces[p10][0])<0)n10[a9.faces[p10][1]].push(a9.faces[p10][0]);if(n10[a9.faces[p10][0]].indexOf(a9.faces[p10][2])<0)n10[a9.faces[p10][0]].push(a9.faces[p10][2]);if(n10[a9.faces[p10][2]].indexOf(a9.faces[p10][1])<0)n10[a9.faces[p10][2]].push(a9.faces[p10][1]);}return n10;}function v7(b9){var q10=0;var r10=0;var s10=0;for(var t10=0;t10<b9.length;++t10){q10=q10+b9[t10][0];r10=r10+b9[t10][1];s10=s10+b9[t10][2];}var u10=Math.sqrt((q10*q10+r10*r10)+s10*s10);if(u10==0)return [0,0,1];return [q10/u10,r10/u10,s10/u10];}function x7(a9){var v10=[];for(var y10=0;y10<a9.vertices.length;++y10)v10.push([]);for(var y10=0;y10<a9.faces.length;++y10){var z10=a9.vertices[a9.faces[y10][0]];var a11=a9.vertices[a9.faces[y10][1]];var b11=a9.vertices[a9.faces[y10][2]];var c11=a11[0]-z10[0],d11=a11[1]-z10[1],e11=a11[2]-z10[2];var f11=b11[0]-a11[0],g11=b11[1]-a11[1],h11=b11[2]-a11[2];var i11=d11*h11-e11*g11;var j11=e11*f11-c11*h11;var k11=c11*g11-d11*f11;var l11=Math.sqrt((i11*i11+j11*j11)+k11*k11);var m11=[i11/l11,j11/l11,k11/l11];v10[a9.faces[y10][0]].push(m11);v10[a9.faces[y10][1]].push(m11);v10[a9.faces[y10][2]].push(m11);}for(var y10=0;y10<v10.length;++y10){if(v10[y10].length==0)v10[y10]=[0,0,1]; else if(v10[y10].length==1)v10[y10]=v10[y10][0]; else v10[y10]=v7(v10[y10]);}return v10;}function z7(x8,q8,c8){var n11=(q8[0]*x8[0]+q8[1]*x8[1])+q8[2]*x8[2];var o11=Math.sqrt(c8[0]*c8[0]+c8[1]*c8[1]);var p11=[q8[0]/o11-x8[0]*n11,q8[1]/o11-x8[1]*n11,q8[2]/o11-x8[2]*n11];var q11=Math.atan2(c8[1],c8[0]);var r11=Math.cos(-q11);var s11=Math.sin(-q11);var t11=[-x8[0],-x8[1],-x8[2]];var u11=t11[0]*t11[1],v11=t11[0]*t11[2],w11=t11[1]*t11[2];var x11=new k7((p11[0]+((((p11[0]*t11[0])*t11[0]+p11[1]*u11)+p11[2]*v11)-p11[0])*(1-r11))+(p11[2]*t11[1]-p11[1]*t11[2])*s11,(p11[1]+((((p11[1]*t11[1])*t11[1]+p11[0]*u11)+p11[2]*w11)-p11[1])*(1-r11))+(p11[0]*t11[2]-p11[2]*t11[0])*s11,(p11[1]+((((p11[2]*t11[2])*t11[2]+p11[0]*v11)+p11[1]*w11)-p11[2])*(1-r11))+(p11[0]*t11[1]-p11[1]*t11[0])*s11);var y11=x8.cross(x11).multiply(c8[0]==0?c8[1]:Math.abs(c8[1]/c8[0]));return [x11,y11];}function d8(x8,f8,g8,h8,i8,j8,k8){var z11=g8*k8-j8*h8;if(z11==0){return z7(x8,f8,[g8,h8]);}z11=1/z11;var a12=[z11*(k8*f8[0]-h8*i8[0]),z11*(k8*f8[1]-h8*i8[1]),z11*(k8*f8[2]-h8*i8[2])];var b12=[z11*(g8*i8[0]-j8*f8[0]),z11*(g8*i8[1]-j8*f8[1]),z11*(g8*i8[2]-j8*f8[2])];return [a12,b12];}function l8(v8,s8){var c12=null;var d12=null;var e12=null;for(var f12=0;f12<s8.length;++f12){var g12=s8[f12][0]-v8[0];var h12=s8[f12][1]-v8[1];var i12=s8[f12][2]-v8[2];var j12=(g12*g12+h12*h12)+i12*i12;if(c12===null||j12<d12){c12=f12;d12=j12;e12=[g12,h12,i12];}}return {index:c12,vertex:s8[f12],dx:e12,lendXSq:d12};}function o8(p8,q8){var k12=null;var l12=null;var m12=0;for(var o12=0;o12<p8.length;++o12)m12+=p8[o12]*p8[o12];for(var o12=0;o12<q8.length;++o12){var p12=0;var q12=0;for(var r12=0;r12<p8.length;++r12){p12+=q8[o12][r12]*p8[r12];q12+=q8[o12][r12]*q8[o12][r12];}var s12=p12/Math.sqrt(q12*m12);if(k12===null||Math.abs(s12)<Math.abs(l12)){k12=o12;l12=s12;}}return {index:k12,dx:q8[k12],cosT:l12};}function r8(s8,t8,u8,v8,w8,x8,y8){if(u8.length<3)throw {error:'require at least 3 neighbours to use least-squares'};if(u8.length==3){var f13=new k7(s8[u8[0]]).subtract(v8);var g13=new k7(s8[u8[1]]).subtract(v8);var h13=new k7(s8[u8[2]]).subtract(v8);var i13=[t8[u8[0]][0]-w8[0],t8[u8[0]][1]-w8[1]];var j13=[t8[u8[1]][0]-w8[0],t8[u8[1]][1]-w8[1]];var k13=[t8[u8[2]][0]-w8[0],t8[u8[2]][1]-w8[1]];if(new k7(f13).add(g13).colinearWith(h13))return d8(x8,f13,i13[0],i13[1],g13,j13[0],j13[1]);if(new k7(g13).add(h13).colinearWith(f13))return d8(x8,g13,j13[0],j13[1],h13,k13[0],k13[1]);if(new k7(h13).add(f13).colinearWith(g13))return d8(x8,h13,k13[0],k13[1],f13,i13[0],i13[1]);}if(u8.length==4){var l13=new k7(s8[u8[0]]).subtract(v8);var m13=new k7(s8[u8[1]]).subtract(v8);var n13=new k7(s8[u8[2]]).subtract(v8);var o13=new k7(s8[u8[3]]).subtract(v8);var p13=[t8[u8[0]][0]-w8[0],t8[u8[0]][1]-w8[1]];var q13=[t8[u8[1]][0]-w8[0],t8[u8[1]][1]-w8[1]];var r13=[t8[u8[2]][0]-w8[0],t8[u8[2]][1]-w8[1]];var s13=[t8[u8[3]][0]-w8[0],t8[u8[3]][1]-w8[1]];if(l13.colinearWith(m13)&&n13.colinearWith(o13))return d8(x8,l13,p13[0],p13[1],n13,r13[0],r13[1]);if(l13.colinearWith(n13)&&m13.colinearWith(o13)||l13.colinearWith(o13)&&m13.colinearWith(n13))return d8(x8,l13,p13[0],p13[1],m13,q13[0],q13[1]);}var t12=y8||new MatrixStack();var u12=0,v12=0,w12=0,x12=0,y12=0,z12=0;var a13=[0,0,0],b13=[0,0,0];for(var c13=0;c13<u8.length;++c13){var t13=s8[u8[c13]];var u13=[t13[0]-v8[0],t13[1]-v8[1],t13[2]-v8[2]];var v13=1/Math.sqrt((u13[0]*u13[0]+u13[1]*u13[1])+u13[2]*u13[2]);u12+=(u13[0]*u13[0])*v13;v12+=(u13[1]*u13[1])*v13;w12+=(u13[2]*u13[2])*v13;x12+=(u13[0]*u13[1])*v13;y12+=(u13[0]*u13[2])*v13;z12+=(u13[1]*u13[2])*v13;var w13=t8[u8[c13]];a13[0]+=(w13[0]*u13[0])*v13;a13[1]+=(w13[0]*u13[1])*v13;a13[2]+=(w13[0]*u13[2])*v13;b13[0]+=(w13[1]*u13[0])*v13;b13[1]+=(w13[1]*u13[1])*v13;b13[2]+=(w13[1]*u13[2])*v13;}t12.loadRowMajor([[u12,x12,y12,0],[x12,v12,z12,0],[y12,z12,w12,0],[0,0,0,1]]);if(t12.invert()){a13=t12.transform(a13);b13=t12.transform(b13);} else {var x13=t12.getBasisAndNullSpace();if(x13.nulls.length==3){a13=[0,0,0];b13=[0,0,0];} else if(x13.nulls.length==2){var y13=l8(v8,u8.map(function(i){return s8[i];}));var z13=[t8[u8[y13.index]][0]-w8[0],t8[u8[y13.index]][1]-w8[1]];return z7(x8,y13.dx,z13);} else if(x13.nulls.length==1){var a14=u8.map(function(i){return s8[i];});var b14=u8.map(function(i){return [t8[i][0]-w8[0],t8[i][1]-w8[1]];});var c14=l8(v8,a14);var d14=o8(b14[c14.index],b14);var e14=c14.index;var f14=d14.index;var g14=d14.cosT;if(Math.abs(d14.cosT)>0.7071){for(var h14=0;h14<u8.length;++h14){if(h14==c14.index||h14==d14.index)continue;var i14=[t8[u8[h14]][0]-w8[0],t8[u8[h14][1]]-w8[1]];var j14=i14[0]*i14[0]+i14[1]*i14[1];for(var k14=h14+1;k14<u8.length;++k14){if(k14==c14.index||k14==d14.index)continue;var l14=[t8[u8[k14]][0]-w8[0],t8[u8[k14][1]]-w8[1]];var m14=l14[0]*l14[0]+l14[1]*l14[1];var n14=(i14[0]*l14[0]+i14[1]*l14[1])/Math.sqrt(j14*m14);if(Math.abs(n14)<Math.abs(g14)){e14=h14;f14=k14;g14=n14;}}}}return d8(x8,a14[e14],b14[e14][0],b14[e14][1],a14[f14],b14[f14][0],b14[f14][1]);} else {throw {error:'That was sure unexpected!'};}}var e13=(x8[0]*a13[0]+x8[1]*a13[1])+x8[2]*a13[2];a13[0]-=e13*x8[0];a13[1]-=e13*x8[1];a13[2]-=e13*x8[2];var e13=(x8[0]*b13[0]+x8[1]*b13[1])+x8[2]*b13[2];b13[0]-=e13*x8[0];b13[1]-=e13*x8[1];b13[2]-=e13*x8[2];return [a13,b13];}function z8(a9,b9,c9){if(typeof b9=='undefined')b9=a9.normals;var o14=t7(a9);var p14=new MatrixStack();var q14=[];for(var r14=0;r14<o14.length;++r14){if(o14[r14].length==0){q14.push([[0,0,0],[0,0,0]]);continue;}var s14=new k7(a9.vertices[r14]);var t14=new k7(b9[r14]);var u14=a9.texCoords[r14];if(o14[r14].length==1){var v14=a9.vertices[o14[r14][0]];var w14=a9.texCoords[o14[r14][0]];var x14=[v14[0]-s14[0],v14[1]-s14[1],v14[2]-s14[2]];var y14=[w14[0]-u14[0],w14[1]-u14[1]];q14.push(z7(t14,x14,y14));} else if(o14[r14].length==2){var z14=a9.texCoords[o14[r14][0]];var a15=a9.texCoords[o14[r14][0]];var b15=z14[0]-u14[0],c15=z14[1]-u14[1];var d15=a15[0]-u14[0],e15=a15[1]-u14[1];var f15=new k7(a9.vertices[o14[r14][0]]).subtract(s14);var g15=new k7(a9.vertices[o14[r14][1]]).subtract(s14);q14.push(d8(t14,f15,b15,c15,g15,d15,e15));} else {q14.push(r8(a9.vertices,a9.texCoords,o14[r14],s14,a9.texCoords[r14],t14,p14));}}if(c9){for(var h15=0;h15<q14.length;++h15){var m15=q14[h15][0][0];var n15=q14[h15][0][1];var o15=q14[h15][0][2];var p15=Math.sqrt((m15*m15+n15*n15)+o15*o15);if(p15!=0)q14[h15][0]=[m15/p15,n15/p15,o15/p15];var m15=q14[h15][1][0];var n15=q14[h15][1][1];var o15=q14[h15][1][2];var p15=Math.sqrt((m15*m15+n15*n15)+o15*o15);if(p15!=0)q14[h15][1]=[m15/p15,n15/p15,o15/p15];}}return q14;}return {Vector3:k7,Maps:s7,Complex:o7,computeNormals:x7,computeTangentSpace:z8};})();renderjs.Geometry=Geometry;var Resources=(function(){function q15(r15,s15){if((s15.substring(0,1)=='/'||s15.indexOf('://')>=0)||s15.substring(0,5)=='data:')return s15;if(r15.length>0&&r15.substring(r15.length-1,0)!='/')return (r15+'/')+s15;return r15+s15;}function t15(u15){u15=u15||'';var v15=this;var w15=[];this.resourcePath=u15;this.createCache=function(type,factory){var x15={};this[type]=function(arg){return new Promise(function(resolve,reject){var y15=x15[arg];if(y15!=undefined){resolve(y15);} else {try{var z15=factory(arg);if(z15 instanceof Promise || typeof z15.then=='function'){w15.push(z15);if(w15.length==1)v15.onresourcesloading();z15.then(function(value){x15[arg]=value;w15.splice(w15.indexOf(z15),1);if(w15.length==0)v15.onresourcesloaded();resolve(value);},reject);} else {x15[arg]=z15;resolve(z15);}}catch(error){reject(error);}}});};this[type].set=function(src,data){x15[src]=data;};};this.all=function(resourceMap){var a16=[];for(var b16 in resourceMap){var c16=resourceMap[b16];if(typeof c16=='function')a16.push(c16(b16)); else a16.push(c16);}return Promise.all(a16).then(function(resourceArray){var d16={};var e16=0;for(b16 in resourceMap)d16[b16]=resourceArray[e16++];return d16;});};Object.defineProperty(this,'pendingResourceCount',{get:function(){return this.pendingResources.length;}});this.createCache('image',function(url){return new Promise(function(resolve,reject){var f16=new Image();f16.onload=function(){resolve(f16);};f16.onerror=reject;f16.src=q15(v15.resourcePath,url);});});this.createCache('file',function(url){return $.get(q15(v15.resourcePath,url));});this.onresourcesloading=this.onresourcesloaded=function(){};}if(typeof Promise=='undefined'){window.Promise=(function(){function g16(h16){function i16(l16){m16=l16;p16.state=g16.FULFILLED;for(var q16=0;q16<n16.length;++q16)n16[q16](l16);n16=o16=null;}function k16(l16){m16=l16;p16.state=g16.REJECTED;for(var r16=0;r16<o16.length;++r16)o16[r16](l16);n16=o16=null;}var m16;var n16=[];var o16=[];var p16=this;this.state=g16.PENDING;h16(i16,k16);this.then=function(onFulfill,onReject){return new g16(function(nextResolve,nextReject){if(p16.state==g16.PENDING){if(onFulfill)n16.push(function(l16){nextResolve(onFulfill(l16));});if(onReject)o16.push(function(l16){nextReject(onReject(l16));});} else if(p16.state==g16.FULFILLED&&onFulfill){nextResolve(onFulfill(m16));} else if(p16.state==g16.REJECTED&&onReject){nextReject(onReject(m16));}});};}g16.PENDING=1;g16.FULFILLED=2;g16.REJECTED=3;g16.all=function(promiseArray){return new g16(function(resolve,reject){function s16(y16,u16){return function(result){if(w16){w16[y16]=result;--v16;if(v16==0)u16(w16);}};}var v16=promiseArray.length;var w16=[];for(var y16=0;y16<promiseArray.length;++y16)w16.push(null);for(var y16=0;y16<promiseArray.length;++y16)promiseArray[y16].then(s16(y16,resolve),function(error){w16=null;reject(error);});});};return g16;})();}return t15;})();renderjs.Resources=Resources;var Parser=(function(window){var z16={ident:'[a-zA-Z_$][a-zA-Z_$0-9]*',num:'-?[0-9]+(?:\\.[0-9]*)?',string:'(?:"[^"]*(?:""[^"]+)*")|(?:\'[^\']*(?:\'\'[^\']+)*\')',oper:'[+*^/%.,-]',bracket:'[)(]'};var a17=[z16.ident,z16.num,z16.oper,z16.bracket];var b17=('('+a17.join(')|('))+')';var c17=new Object();function d17(e17){if(e17[0]=="'")return e17.substring(1,e17.length-1).replace("''","'"); else return e17.substring(1,e17.length-1).replace('""','"');}function f17(g17,h17,i17){if(g17())return h17();if(i17)return i17();return 0.0;}function j17(){function k17(){if(c18.value=='-'){s17();var g18=z17();return {op:'negate',subtree:g18};} else {return z17();}}function l17(){if(c18.type==z16.ident){if(d18.value!='(')return q17({op:'lookup',name:c18.value});return m17();} else if(c18.type==z16.num){return q17({op:'const',value: +c18.value});} else if(c18.type==z16.string){return q17({op:'const',value:d17(c18.value)});} else if(c18.value=='('){s17();var h18=k17();s17();return h18;}}function m17(){var i18=c18.value;var j18=[];s17();s17();while(true){j18.push(k17());if(c18.value==',')s17(); else break;}s17();return {op:'call',name:i18,args:j18};}function n17(o17,p17){return function(){var k18=p17();while(o17.indexOf(c18.value)>=0){var l18=c18.value;s17();var m18=p17();k18={op:l18,left:k18,right:m18};}return k18;};}function q17(r17){s17();return r17;}function s17(){c18=e18.shift();d18=e18[0];return c18;}function t17(w17){if(w17.left){w17.left=t17(w17.left);w17.right=t17(w17.right);if(w17.left.op=='const'&&w17.right.op=='const'){switch(w17.op){case '+':return {op:'const',value:left.value+right.value};case '-':return {op:'const',value:left.value-right.value};case '*':return {op:'const',value:left.value*right.value};case '/':return {op:'const',value:left.value/right.value};case '%':return {op:'const',value:left.value%right.value};case '^':return {op:'const',value:Math.pow(left.value,right.value)};default:throw {error:'unknown operation '+w17.op};}}} else if(w17.subtree){w17.subtree=t17(w17.subtree);if(w17.subtree.op=='const')return {op:'const',value:-w17.subtree.value};} else if(w17.args instanceof Array){if(w17.name=='pi')return {op:'const',value:Math.PI};if(w17.name=='e')return {op:'const',value:Math.E};for(var n18=0;n18<w17.args.length;++n18)w17.args[n18]=t17(w17.args[n18]);}return w17;}function v17(w17){if(w17.op=='const')return function(){return w17.value;};if(w17.op=='call'){var q18=a18.builtins[w17.name];if(!q18)q18=a18.resolve(w17.name);if(!q18)throw {error:'unknown function '+w17.name};var r18=w17.args.map(v17);if(typeof q18!='function'){var s18=q18.lazyEval;if(q18.minArgs&&r18.length<q18.minArgs)throw {error:'too few arguments to function',reason:{funcName:w17.name,minArgs:q18.minArgs}};if(q18.singleton)q18=q18.singleton; else return q18.factory.apply(q18,r18);if(s18)return function(){return q18.apply(this,r18);};}return function(){return q18.apply(this,r18.map(function(a){return a();}));};}if(w17.op=='lookup'){var t18=a18.resolve(w17.name);if(typeof t18=='function')return t18;return function(){return t18;};}if(w17.op=='negate'){var u18=v17(w17.subtree);return function(){return -u18();};}var o18=v17(w17.left);var p18=v17(w17.right);switch(w17.op){case '+':return function(){return o18()+p18();};case '-':return function(){return o18()-p18();};case '*':return function(){return o18()*p18();};case '/':return function(){return o18()/p18();};case '%':return function(){return o18()%p18();};case '^':return function(){return Math.pow(o18(),p18());};default:throw {error:'unknown operation '+w17.op};}}var x17=n17(['^'],l17);var y17=n17(['*','/'],x17);var z17=n17(['+','-'],y17);var a18=this;var b18=1;var c18=null;var d18=null;var e18=[];var f18=null;this.resolve=function(name){return 0.0;};this.parse=function(z17){var v18=new RegExp(b17,'g');var w18;while((w18=v18.exec(z17))!==null){var x18=null;for(var y18=0;y18<a17.length;++y18){if(w18[y18+1]){x18=a17[y18];break;}}e18.push({type:x18,value:w18[0]});}e18.push({type:c17});s17();f18=k17();};this.createEvaluator=function(){var z18=t17(f18);return v17(z18);};this.builtins={sin:Math.sin,cos:Math.cos,tan:Math.tan,atan:Math.atan,atan2:Math.atan2,exp:Math.exp,log:Math.log,if:{lazyEval:true,minArgs:2,singleton:f17}};}j17.createEvaluator=function(expression,resolver,builtins){var a19=new j17();if(builtins){for(var b19 in builtins)a19.builtins[b19]=builtins[b19];}a19.resolve=resolver;a19.parse(expression);return a19.createEvaluator();};return j17;})();renderjs.Parser=Parser;var Shader=(function(){function c19(d19,e19,f19){function g19(h19,i19){return ((i19||'u')+h19[0].toUpperCase())+h19.substring(1);}var j19=d19.createProgram();var k19=d19.createShader(d19.VERTEX_SHADER);d19.shaderSource(k19,e19);d19.compileShader(k19);if(!d19.getShaderParameter(k19,d19.COMPILE_STATUS))throw {message:'invalid vertex shader',reason:d19.getShaderInfoLog(k19)};var l19=d19.getShaderInfoLog(k19);if(l19)console.log(l19);d19.attachShader(j19,k19);k19=d19.createShader(d19.FRAGMENT_SHADER);d19.shaderSource(k19,f19);d19.compileShader(k19);if(!d19.getShaderParameter(k19,d19.COMPILE_STATUS))throw {message:'invalid fragment shader',reason:d19.getShaderInfoLog(k19)};l19=d19.getShaderInfoLog(k19);if(l19)console.log(l19);d19.attachShader(j19,k19);d19.linkProgram(j19);if(!d19.getProgramParameter(j19,d19.LINK_STATUS))throw {message:'program filed to link',reason:d19.getProgramInfoLog(j19)};this.glProgram=j19;this.use=function(){d19.useProgram(this.glProgram);};this.registerFlag=function(h19,initValue){var m19=d19.getUniformLocation(j19,g19(h19));var n19=initValue;if(m19){Object.defineProperty(this,h19,{get:function(){return n19;},set:function(value){n19=value;d19.uniform1i(m19,value?1:0);return n19;}});if(initValue)d19.uniform1i(m19,1);} else {console.log('WARNING: shader has no uniform '+g19(h19));}};this.registerVertexAttrib=function(h19,type,size){var o19=d19.getAttribLocation(j19,g19(h19,'a'));var p19;if(o19>=0){Object.defineProperty(this,h19,{get:function(){return p19;},set:function(newValue){p19=newValue;if(p19){d19.bindBuffer(d19.ARRAY_BUFFER,p19);d19.vertexAttribPointer(o19,size,type,false,0,0);d19.enableVertexAttribArray(o19);} else {d19.disableVertexAttribArray(o19);}return p19;}});} else {console.log('WARNING: shader has no attribute '+g19(h19,'a'));}};this.setSampler=function(h19,textureUnit){var q19=d19.getUniformLocation(j19,h19);d19.useProgram(this.glProgram);d19.uniform1i(q19,textureUnit);};this.registerUniformMatrix=function(h19){var r19=g19(h19);var s19=d19.getUniformLocation(j19,r19);var t19=d19.getUniformLocation(j19,r19+'Inverse');var u19;if(s19||t19){Object.defineProperty(this,h19,{get:function(){return u19;},set:function(newValue){u19=newValue;if(s19)d19.uniformMatrix4fv(s19,false,u19.getData());if(t19){u19.push();u19.invert();d19.uniformMatrix4fv(t19,false,u19.getData());u19.pop();}return u19;}});} else {console.log('WARNING: shader has no uniform '+r19);}};this.registerUniformInt=function(h19){var v19=d19.getUniformLocation(j19,g19(h19));var w19;if(v19){Object.defineProperty(this,h19,{get:function(){return w19;},set:function(newValue){w19=newValue;d19.uniform1i(v19,w19);return w19;}});} else {console.log('WARNING: shader has no uniform '+g19(h19));}};this.registerUniformFloat=function(h19){var x19=d19.getUniformLocation(j19,g19(h19));var y19;if(x19){Object.defineProperty(this,h19,{get:function(){return y19;},set:function(newValue){y19=newValue;d19.uniform1f(x19,y19);return y19;}});} else {console.log('WARNING: shader has no uniform '+g19(h19));}};this.registerUniformComplex=function(h19,initVal){var z19=g19(h19);var a20=d19.getUniformLocation(j19,z19+'.Re');var b20=d19.getUniformLocation(j19,z19+'.Im');var c20=new Geometry.Complex(initVal);if(a20){Object.defineProperty(this,h19,{get:function(){if(c20.Im==0.0)return c20.re; else return c20;},set:function(newRe,newIm){c20=new Geometry.Complex(newRe,newIm);d19.uniform1f(a20,c20.re);d19.uniform1f(b20,c20.im);return c20;}});} else {console.log('WARNING: shader has no uniform '+g19(h19));}};this.registerUniformFloat3=function(h19){var d20=d19.getUniformLocation(j19,g19(h19));var e20;if(d20){Object.defineProperty(this,h19,{get:function(){return e20;},set:function(){if(typeof arguments[1]=='undefined')e20=[arguments[0][0],arguments[0][1],arguments[0][2]]; else e20=[arguments[0],arguments[1],arguments[2]];d19.uniform3f(d20,e20[0],e20[1],e20[2]);return e20;}});} else {console.log('WARNING: shader has no uniform '+g19(h19));}};this.registerUniformFloat4=function(h19){var f20=d19.getUniformLocation(j19,g19(h19));var g20;if(f20){Object.defineProperty(this,h19,{get:function(){return g20;},set:function(){if(typeof arguments[1]=='undefined')g20=[arguments[0][0],arguments[0][1],arguments[0][2],arguments[0][3]]; else g20=[arguments[0],arguments[1],arguments[2],arguments[3]];d19.uniform4f(f20,g20[0],g20[1],g20[2],g20[3]);return g20;}});} else {console.log('WARNING: shader has no uniform '+g19(h19));}};this.registerUniformFloat3Array=function(h19){var h20=d19.getUniformLocation(j19,g19(h19));var i20;if(h20){Object.defineProperty(this,h19,{get:function(){return i20;},set:function(newValue){i20=newValue;if(i20.length==0)return i20;if(typeof i20[0][0]!='undefined'){var j20=new Float32Array(3*i20.length);var k20=0;for(var l20=0;l20<i20.length;++l20){j20[k20++]=i20[l20][0];j20[k20++]=i20[l20][1];j20[k20++]=i20[l20][2];}d19.uniform3fv(h20,j20);} else {d19.uniform3fv(h20,i20);}return i20;}});} else {console.log('WARNING: shader has no uniform '+g19(h19));}};this.setUniform2f=function(uniformName,x,y){var m20=d19.getUniformLocation(j19,uniformName);if(m20){d19.useProgram(j19);d19.uniform2f(m20,x,y);}};}return c19;})();renderjs.Shader=Shader;var createRenderer=(function(){function n20(o20,p20,q20,r20){function v20(w20){if(!i23.running&&!x23)return;if(j23==undefined){j23=w20;k23=i23.time;}i23.time=(w20-j23)/1000+k23;a21(i23.time);requestAnimationFrame(v20);}function x20(q22){z20();a21(q22);i23.frameCount++;}function z20(){o20.clearColor(0.0,0.0,0.0,1.0);o20.enable(o20.DEPTH_TEST);o20.depthFunc(o20.LEQUAL);v23.use();v23.viewportMatrix=a24;o20.bindFramebuffer(o20.FRAMEBUFFER,null);}function a21(q22){y23.identity();v23.cameraMatrix=z23;q23=c21();v23.numberOfLights=q23.types.length;v23.lightPositions=q23.positions;v23.lightColors=q23.colors;v23.ambientLight=q23.ambient;o20.clear(o20.COLOR_BUFFER_BIT|o20.DEPTH_BUFFER_BIT);j22(v23,l23,q22);i23.frameCount++;i23.dirty=false;}function c21(){var i24=[];var j24=[];var k24=[];var l24=[0.0,0.0,0.0];r23.identity();function m24(n24){if(n24.transform&&(n24.lights||n24.childrenWithLights)){r23.push();n24.transform(r23);}if(n24.lights){for(var p24=0;p24<n24.lights.length;++p24){var q24=n24.lights[p24];if(q24.type=='ambient'){l24[0]+=q24.color[0]();l24[1]+=q24.color[1]();l24[2]+=q24.color[2]();continue;}i24.push(q24.type);var r24=r23.transform(q24.position[0](),q24.position[1](),q24.position[2]());j24.push(r24[0]);j24.push(r24[1]);j24.push(r24[2]);if(q24.color){k24.push(q24.color[0]());k24.push(q24.color[1]());k24.push(q24.color[2]());} else {k24.push(1.0);k24.push(1.0);k24.push(1.0);}}}if(n24.childrenWithLights){for(var s24=0;s24<n24.childrenWithLights.length;++s24)m24(n24.childrenWithLights[s24]);}if(n24.transform&&(n24.lights||n24.childrenWithLights))r23.pop();}for(var o24=0;o24<l23.length;++o24)m24(q21(l23[o24]));return {types:i24,positions:j24,colors:k24,ambient:l24};}function d21(e21){if(typeof e21=='number')return function(){return e21;};if(typeof e21=='boolean')return function(){return e21?1.0:0.0;};return Parser.createEvaluator(e21,function(parameter){if(parameter=='$time')return function(){return i23.time;};return function(){var t24=i23.parameters[parameter];if(typeof t24=='function')return t24(i23.time);if(typeof t24=='number')return t24;if(typeof t24=='boolean')return t24?1.0:0.0;return 0.0;};},h23);}function f21(g21,h21){return function(){g21.apply(this,arguments);h21.apply(this,arguments);};}function i21(j21,k21){return function(){var u24=[k21];for(var v24=0;v24<arguments.length;++v24)u24.push(arguments[v24]);j21.apply(this,u24);};}function l21(m21){if(typeof m21=='string'){if(m21.length==0)return function(){};if(m21[0]=='#'){var w24=m21.substring(1);return i21(function(w24,m){var x24=m23[w24];if(x24){var y24=i23.getTransform(x24);m.push();m.load(y24);m.mul();}},w24);} else {var z24=m21;return i21(function(z24,m){var a25=i23.parameters[z24];if(a25){if(typeof a25=='function')a25=a25(i23.time);m.push();m.load(a25);m.mul();}},z24);}}if(m21[0]=='rotate'){var b25=d21(m21[1]);var c25=d21(m21[2]);var d25=d21(m21[3]);var e25=d21(m21[4]);return function(matrix){matrix.rotate(b25(),[c25(),d25(),e25()]);};} else if(m21[0]=='translate'){var f25=d21(m21[1]);var g25=d21(m21[2]);var h25=d21(m21[3]);return function(matrix){matrix.translate(f25(),g25(),h25());};} else if(m21[0]=='scale'){var i25=d21(m21[1]);var j25=d21(m21[2]);var k25=d21(m21[3]);return function(matrix){matrix.scale(i25(),j25(),k25());};} else {throw {error:'unsupported transform',reason:m21};}}function n21(e22,o22){o22.vertexPosition=e22.vertexBuffer;o22.vertexNormal=e22.normalBuffer;o22.textureCoord=e22.texCoords;if(e22.texture){o20.activeTexture(o20.TEXTURE0);o20.bindTexture(o20.TEXTURE_2D,e22.texture);}if(e22.normalMap){o22.normalMapping=true;o20.activeTexture(o20.TEXTURE1);o20.bindTexture(o20.TEXTURE_2D,e22.normalMap);o22.uVector=e22.tangentSpace.u;o22.vVector=e22.tangentSpace.v;}o20.bindBuffer(o20.ELEMENT_ARRAY_BUFFER,e22.faceBuffer);o20.drawElements(o20.TRIANGLES,e22.faceCount,o20.UNSIGNED_SHORT,0);if(e22.normalMap){o22.normalMapping=false;o22.uVector=null;o22.vVector=null;}}function q21(p22){return p22.__renderData||(p22.__renderData=x21(p22));}function s21(o22){o22.registerVertexAttrib('vertexPosition',o20.FLOAT,3);o22.registerVertexAttrib('vertexNormal',o20.FLOAT,3);o22.registerVertexAttrib('textureCoord',o20.FLOAT,2);o22.registerVertexAttrib('uVector',o20.FLOAT,3);o22.registerVertexAttrib('vVector',o20.FLOAT,3);o22.registerUniformMatrix('modelMatrix');o22.registerUniformMatrix('cameraMatrix');o22.registerUniformMatrix('viewportMatrix');o22.registerUniformInt('numberOfLights');o22.registerUniformFloat3Array('lightPositions');o22.registerUniformFloat3Array('lightColors');o22.registerUniformFloat3('ambientLight');}function u21(v21,w21){var l25=v23;try{var m25=new Shader(i23.gl,w21[v21.vertex],w21[v21.fragment]);m25.use();s21(m25);if(v21.uniforms){for(var n25 in v21.uniforms){var o25,p25;if(typeof v21.uniforms[n25]=='string')o25=v21.uniforms[n25],p25=undefined; else o25=v21.uniforms[n25].type,p25=v21.uniforms[n25].default;switch(o25){case 'mat4':m25.registerUniformMatrix(n25);break;case 'int':case 'bool':m25.registerUniformInt(n25);break;case 'float':m25.registerUniformFloat(n25);break;case 'complex':m25.registerUniformComplex(n25);p25=new Complex(p25);break;case 'vec3':m25.registerUniformFloat3(n25);break;case 'vec3[]':m25.registerUniformFloat3Array(n25);break;default:i23.onerror({error:'unsupported uniform type',reason:o25});continue;}if(typeof p25!=undefined)m25[n25]=p25;}}if(v21.attributes){for(var q25 in v21.attributes){var r25,s25=v21.attributes[q25].size|0;switch(v21.attributes[q25].type){case 'float':r25=o20.FLOAT;break;case 'int':r25=o20.INT;break;case 'double':r25=o20.DOUBLE;break;case 'uint':r25=o20.UNSIGNED_INT;break;case 'short':r25=o20.SHORT;break;case 'ushort':r25=o20.UNSIGNED_SHORT;break;default:i23.onerror({error:'unsupported vertex attribute type',reason:v21.attributes[q25].type});continue;}m25.registerVertexAttrib(q25,s25,r25);}}return m25;}catch(x){i23.onerror(x);}finally{v23=l25;v23.use();}}function x21(p22){var t25={};if(p22.id)m23[p22.id]=p22;if(p22.mesh){t25.mesh={};t25.mesh.vertexBuffer=r22(p22.mesh.vertices,3);if(p22.mesh.texture){t25.mesh.texture=w23;r20.texture(p22.mesh.texture).then(function(texture){t25.mesh.texture=texture;b23();});}var u25=p22.mesh.normals;if(!u25)u25=Geometry.computeNormals(p22.mesh);t25.mesh.normalBuffer=r22(u25,3);if(p22.mesh.texCoords){t25.mesh.texCoords=r22(p22.mesh.texCoords,2);if(p22.mesh.normalMap){t25.mesh.normalMap=null;r20.texture(p22.mesh.normalMap).then(function(texture){t25.mesh.normalMap=texture;b23();});if(!p22.mesh.tangentSpace){var v25=Geometry.computeTangentSpace(p22.mesh,u25,true);t25.mesh.tangentSpace={u:r22(v25,3,o20.FLOAT,o20.ARRAY_BUFFER,1,0,0),v:r22(v25,3,o20.FLOAT,o20.ARRAY_BUFFER,1,0,1)};} else {t25.mesh.tangentSpace={u:r22(p22.mesh.tangentSpace.u,3),v:r22(p22.mesh.tangentSpace.v,3)};}}}if(p22.mesh.mode=='strip'){throw {error:'mesh mode not supported',reason:p22.mesh.mode};} else if(p22.mesh.faces){t25.mesh.faceBuffer=r22(p22.mesh.faces,3,o20.UNSIGNED_SHORT,o20.ELEMENT_ARRAY_BUFFER);t25.mesh.faceCount=3*p22.mesh.faces.length;t25.mesh.draw=n21;} else {}}if(p22.transform){if(typeof p22.transform=='string'){t25.transform=l21(p22.transform);} else {var w25=undefined;for(var x25=0;x25<p22.transform.length;++x25){var y25=l21(p22.transform[x25]);if(w25)w25=f21(w25,y25); else w25=y25;}t25.transform=w25;}}if(p22.shader){if(p22.shader.vertex&&p22.shader.fragment){var z25={};z25[p22.shader.vertex]=i23.resources.file;z25[p22.shader.fragment]=i23.resources.file;t25.pending=true;i23.resources.all(z25).then(function(w21){t25.program=u21(p22.shader,w21);t25.pending=false;b23();});if(p22.shader.textureUnits)t25.textureUnits=p22.shader.textureUnits;if(p22.shader.blend){switch(p22.shader.blend){case 'default':default:t25.blend=function(o20){o20.enable(o20.BLEND);o20.blendEquation(o20.FUNC_ADD);o20.blendFunc(o20.SRC_ALPHA,o20.ONE_MINUS_SRC_ALPHA);};}}}if(p22.shader.parameters){t25.uniforms=t25.uniforms||{};for(var a26 in p22.shader.parameters)t25.uniforms[a26]=d21(p22.shader.parameters[a26]);}}if(p22.material){t25.uniforms=t25.uniforms||{};for(var b26 in p22.material)t25.uniforms[b26]=d21(p22.material[b26]);}if(p22.flags){t25.flags={};t25.uniforms=t25.uniforms||{};for(var c26 in p22.flags){var d26=p22.flags[c26];var e26=d21(d26);t25.flags[c26]=e26;t25.uniforms[c26]=e26;}}if(p22.lights){t25.lights=p22.lights.map(function(light){var h26=light.type;if(h26=='point')h26=1;var i26={type:h26};if(light.position){i26.position=[d21(light.position[0]),d21(light.position[1]),d21(light.position[2])];}if(light.color){i26.color=[d21(light.color[0]),d21(light.color[1]),d21(light.color[2])];}return i26;});var f26=t25;for(var g26=p22.parent;g26&&g26.__renderData;g26=g26.parent){g26.__renderData.childrenWithLights=g26.__renderData.childrenWithLights||[];g26.__renderData.childrenWithLights.push(f26);f26=g26.__renderData;}}p22.__renderData=t25;if(p22.children){for(var j26=0;j26<p22.children.length;++j26)x21(p22.children[j26]);}return t25;}function z21(p22){var k26=p22.__renderData;if(p22.id&&m23[p22.id]===p22)delete m23[p22.id];if(k26){if(k26.mesh){o20.deleteBuffer(k26.mesh.vertexBuffer);}}if(p22.children){for(var l26=0;l26<p22.children.length;++l26)z21(p22.children[l26]);}}function b22(){o20.bindFramebuffer(o20.FRAMEBUFFER,s23.framebuffer);o20.clearColor(0.0,0.0,0.0,0.0);o20.clear(o20.COLOR_BUFFER_BIT|o20.DEPTH_BUFFER_BIT);o20.clearColor(0.0,0.0,0.0,1.0);}function c22(){o20.bindFramebuffer(o20.FRAMEBUFFER,null);u23.use();u23.viewportMatrix=a24;u23.vertexPosition=u23.vertices;u23.textureCoord=u23.texCoords;o20.activeTexture(o20.TEXTURE0);o20.bindTexture(o20.TEXTURE_2D,s23.texture);o20.enable(o20.BLEND);o20.blendEquation(o20.FUNC_ADD);o20.blendFunc(o20.SRC_ALPHA,o20.ONE_MINUS_SRC_ALPHA);o20.drawArrays(o20.TRIANGLES,0,6);o20.disable(o20.BLEND);v23.use();}function d22(e22){var m26=new Uint16Array((e22.faces.length*3)*2);for(var n26=0;n26<e22.faces.length;++n26){m26[6*n26+0]=e22.faces[n26][0];m26[6*n26+1]=e22.faces[n26][1];m26[6*n26+2]=e22.faces[n26][1];m26[6*n26+3]=e22.faces[n26][2];m26[6*n26+4]=e22.faces[n26][2];m26[6*n26+5]=e22.faces[n26][0];}var o26=o20.createBuffer();o20.bindBuffer(o20.ELEMENT_ARRAY_BUFFER,o26);o20.bufferData(o20.ELEMENT_ARRAY_BUFFER,m26,o20.STATIC_DRAW);return o26;}function f22(o22,p22,i22){var p26=o22.wireframe;if(!i22.mesh.edgeList)i22.mesh.edgeList=d22(p22.mesh);o22.renderEdges=true;o22.vertexPosition=i22.mesh.vertexBuffer;o22.vertexNormal=i22.mesh.normalBuffer;o22.textureCoord=i22.mesh.texCoords;o22.wireframe=false;o20.bindBuffer(o20.ELEMENT_ARRAY_BUFFER,i22.mesh.edgeList);o20.drawElements(o20.LINES,i22.mesh.faceCount*2,o20.UNSIGNED_SHORT,0);o22.renderEdges=false;o22.wireframe=p26;}function j22(o22,l22,q22){for(var r26=0;r26<l22.length;++r26){if(!l22[r26].flags||!l22[r26].flags.wireframe)n22(o22,l22[r26],q22);}for(var r26=0;r26<l22.length;++r26){if(l22[r26].flags&&l22[r26].flags.wireframe)n22(o22,l22[r26],q22);}}function n22(o22,p22,q22){var s26=q21(p22);if(s26.pending)return;if(i23.onbeforerendernode)i23.onbeforerendernode(p22,q22,o22);var t26=null;var u26=null;var v26=null;var w26=(s26.flags&&s26.flags.renderEdges)&&s26.flags.renderEdges();if(s26.program){u26=o22;o22=s26.program;o22.use();o22.cameraMatrix=u26.cameraMatrix;o22.cameraMatrixInverse=u26.cameraMatrixInverse;o22.viewportMatrix=u26.viewportMatrix;o22.viewportMatrixInverse=u26.viewportMatrixInverse;o22.numberOfLights=q23.types.length;o22.lightPositions=q23.positions;o22.lightColors=q23.colors;}if(s26.uniforms){t26={};for(var x26 in s26.uniforms){var y26=s26.uniforms[x26];t26[x26]=o22[x26];o22[x26]=y26();}}if(s26.transform){y23.push();s26.transform(y23);}if(s26.blend){v26=b24;b24=s26.blend;b24(o20);}if(s26.mesh){o22.modelMatrix=y23;if(o22.wireframe){if(w26)f22(o22,p22,s26);b22();}s26.mesh.draw(s26.mesh,o22);if(o22.wireframe)c22();if(!o22.wireframe&&w26)f22(o22,p22,s26);}if(p22.children)j22(o22,p22.children,q22);if(v26){b24=v26;b24(o20);}if(s26.transform)y23.pop();if(t26){for(var z26 in t26)o22[z26]=t26[z26];}if(u26){u26.use();}if(i23.onafterrendernode)i23.onafterrendernode(p22,q22,o22);}function r22(s22,t22,u22,v22,w22,x22,y22){u22=u22||o20.FLOAT;v22=v22||o20.ARRAY_BUFFER;w22=w22||1;x22=x22|0;var a27;var b27=(s22.length-x22)/w22|0;if(u22==o20.FLOAT)a27=new Float32Array(b27*t22); else if(u22==o20.UNSIGNED_SHORT)a27=new Uint16Array(b27*t22); else throw {error:'unknown buffer type',reason:u22};var c27=0;if(typeof y22=='undefined'){for(var e27=x22;e27<s22.length;e27+=w22)for(var j=0;j<t22;++j)a27[c27++]=s22[e27][j];} else {for(var f27=x22;f27<s22.length;f27+=w22)for(var j=0;j<t22;++j)a27[c27++]=s22[f27][y22][j];}var d27=o20.createBuffer();o20.bindBuffer(v22,d27);o20.bufferData(v22,a27,o20.STATIC_DRAW);return d27;}function z22(a23){a23=a23&&c24.floatTexture;var g27=o20.createFramebuffer();o20.bindFramebuffer(o20.FRAMEBUFFER,g27);g27.width=p20;g27.height=q20;var h27=o20.createTexture();o20.bindTexture(o20.TEXTURE_2D,h27);o20.texParameteri(o20.TEXTURE_2D,o20.TEXTURE_MIN_FILTER,o20.NEAREST);o20.texParameteri(o20.TEXTURE_2D,o20.TEXTURE_MAG_FILTER,o20.NEAREST);o20.texParameteri(o20.TEXTURE_2D,o20.TEXTURE_WRAP_S,o20.CLAMP_TO_EDGE);o20.texParameteri(o20.TEXTURE_2D,o20.TEXTURE_WRAP_T,o20.CLAMP_TO_EDGE);if(a23)o20.texImage2D(o20.TEXTURE_2D,0,o20.RGBA,p20,q20,0,o20.RGBA,o20.FLOAT,null); else o20.texImage2D(o20.TEXTURE_2D,0,o20.RGBA,p20,q20,0,o20.RGBA,o20.UNSIGNED_BYTE,null);var i27=o20.createRenderbuffer();o20.bindRenderbuffer(o20.RENDERBUFFER,i27);o20.renderbufferStorage(o20.RENDERBUFFER,o20.DEPTH_COMPONENT16,p20,q20);o20.framebufferTexture2D(o20.FRAMEBUFFER,o20.COLOR_ATTACHMENT0,o20.TEXTURE_2D,h27,0);o20.framebufferRenderbuffer(o20.FRAMEBUFFER,o20.DEPTH_ATTACHMENT,o20.RENDERBUFFER,i27);o20.bindTexture(o20.TEXTURE_2D,null);o20.bindRenderbuffer(o20.RENDERBUFFER,null);o20.bindFramebuffer(o20.FRAMEBUFFER,null);return {framebuffer:g27,texture:h27,renderbuffer:i27};}function b23(){i23.dirty=true;i23.onrepaintrequired();}function c23(d23){console.log('ERROR: '+d23.message);if(d23.reason)console.log(d23.reason);throw d23;}function e23(){d24.then(function(){z20();j23=undefined;requestAnimationFrame(v20);},c23);}function f23(){++x23;if(x23==1&&!i23.running)e23();}function g23(){--x23;}var h23={smooth:{minArgs:3,factory:function(smoothingFunction,duration,input){var j27;smoothingFunction=smoothingFunction&&smoothingFunction()||'ease';if(typeof smoothingFunction=='string'){var t27=Bezier[smoothingFunction];j27=function(dur){return function(t){return t27(t,dur);};};} else {j27=function(dur){return function(t){return Bezier.cubicBezier(arguments[0](),arguments[1](),arguments[2](),arguments[3],t,dur);};};duration=arguments[4];input=arguments[5];}var k27=undefined;var l27=undefined;var m27=undefined;var n27=undefined;var o27=undefined;var p27=undefined;var q27=undefined;var r27=input;var s27=1.0;return function(){var u27=r27();if(m27==undefined)m27=u27;if(m27!=u27){var v27= +duration();if(v27!=k27){k27=v27;l27=j27(v27);}var w27;if(q27!=undefined)w27=(q27-i23.Time)/(q27-p27);if((q27!=undefined&&w27>0.01)&&w27<0.99){var x27=i23.time;var y27=x27+v27;var z27=y27-q27;var a28=(x27*((x27+z27)-q27))/(x27-q27);var b28=l27(x27-p27);var c28=l27(x27-a28);var d28=((b28*(o27-n27)+n27)-c28*u27)/(1-c28);s27=v27/(y27-a28);o27=u27;p27=a28;q27=y27;n27=d28;} else {if(q27==undefined)f23();s27=1.0;n27=m27;p27=i23.time;q27=p27+v27;o27=u27;}m27=u27;}if(q27==undefined)return u27;if(q27<=i23.time){p27=q27=o27=undefined;g23();return u27;}if(p27>i23.time){console.log('nothing to see here');}return n27+(o27-n27)*l27((i23.time-p27)*s27);};}}};r20.createCache('texture',function(url){return r20.image(url).then(function(img){var e28=o20.createTexture();o20.bindTexture(o20.TEXTURE_2D,e28);o20.texImage2D(o20.TEXTURE_2D,0,o20.RGBA,o20.RGBA,o20.UNSIGNED_BYTE,img);o20.texParameteri(o20.TEXTURE_2D,o20.TEXTURE_MAG_FILTER,o20.LINEAR);o20.texParameteri(o20.TEXTURE_2D,o20.TEXTURE_MIN_FILTER,o20.LINEAR_MIPMAP_NEAREST);o20.generateMipmap(o20.TEXTURE_2D);o20.bindTexture(o20.TEXTURE_2D,null);return e28;});});var i23=this;this.gl=o20;this.dirty=false;this.resources=r20;var j23,k23;var l23=[];var m23={};var n23={};var o23={};var p23=[];var q23=[];var r23=new MatrixStack();var s23;var t23;var u23;var v23;var w23;var x23=0;var y23=new MatrixStack();var z23=new MatrixStack();var a24=new MatrixStack();var b24=function(o20){o20.disable(o20.BLEND);};var c24={fragDepth:o20.getExtension('EXT_frag_depth'),floatTexture:o20.getExtension('OES_texture_float'),floatLinear:o20.getExtension('OES_float_linear'),colorBufferFloat:o20.getExtension('WEBGL_color_buffer_float')};var d24=r20.all({'std-vertex.es2':r20.file,'std-fragment.es2':r20.file,'wfm-vertex.es2':r20.file,'wfm-fragment.es2':r20.file,'loadingtexture.png':r20.image}).then(function(i22){t23=new Shader(o20,i22['std-vertex.es2'],i22['std-fragment.es2']);s21(t23);t23.registerFlag('wireframe');t23.registerFlag('renderEdges');t23.setSampler('uTexture',0);t23.setSampler('uNormalMap',1);t23.registerUniformInt('normalMapping');t23.registerUniformComplex('refractiveIndex');t23.registerUniformFloat('gloss');t23.registerUniformFloat4('highlightColor');u23=new Shader(o20,i22['wfm-vertex.es2'],i22['wfm-fragment.es2']);u23.registerVertexAttrib('vertexPosition',o20.FLOAT,2);u23.registerVertexAttrib('textureCoord',o20.FLOAT,2);u23.setSampler('uWireframe',0);u23.setUniform2f('uViewportSize',p20,q20);u23.vertices=r22([[-1,-1],[1,-1],[1,1],[1,1],[-1,1],[-1,-1]],2);u23.texCoords=r22([[0,0],[1,0],[1,1],[1,1],[0,1],[0,0]],2);v23=t23;w23=i22['loadingtexture.png'];return true;});function e24(f24,g24,h24){a24.reset();a24.perspective(30, +p20/  +q20,g24,h24);a24.push();a24.invert();a24.swap();}s23=z22(true);e24(30,1,50);z23.translate(0,0,-10);this.time=0;this.running=false;this.parameters={};this.frameCount=0;this.start=function(){if(i23.running)return;i23.running=true;if(!x23)e23();};this.stop=function(){i23.running=false;};this.renderAt=function(q22){d24.then(function(){x20(q22);},c23);};this.render=function(){this.renderAt(this.time);};this.resize=function(w,h){p20=w;q20=h;e24(30,1,50);u23.setUniform2f('uViewportSize',p20,q20);s23=z22(true);o20.viewport(0,0,p20,q20);b23();};this.addNode=function(p22,parent){if(typeof parent!='undefined')(parent.children=parent.children||[]).push(p22); else l23.push(p22);p22.parent=parent;x21(p22);b23();};this.removeNode=function(p22){var f28=l23;if(p22.parent)f28=p22.parent;var g28=f28.indexOf(p22);if(g28>=0){f28.splice(g28,1);z21(p22);}b23();};this.bindParameter=function(name,fn){this.parameters[name]=fn;};this.setCameraTransform=function(m){z23.reset();z23.load(m);z23.invert();b23();};this.setTexture=function(p22,texture){this.resources.texture(texture).then(function(tex){if(p22.__renderData)p22.__renderData.mesh.texture=tex;});};this.getLocalTransform=function(p22){var h28=new MatrixStack();var i28=q21(p22);if(i28.transform)i28.transform(h28);return h28;};this.getTransform=function(p22){var j28;if(p22.parent)j28=this.getTransform(p22.parent); else j28=new MatrixStack();var k28=q21(p22);if(k28.transform)k28.transform(j28);return j28;};this.onerror=function(err){};this.onrepaintrequired=function(){};this.onbeforerendernode=null;this.onafterrendernode=null;}function s20(t20,u20){return new Promise(function(resolve,reject){try{var l28=t20.getContext('webgl')||t20.getContext('experimental-webgl');if(!l28)return reject('no webgl');var m28=new Resources(u20);m28.image.set("loadingtexture.png",(function(){var n28=new Image();n28.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH3wwTDwc2I0dVSQAABfxJREFUeNrt18ENAzEQA7FT+u9ZqSIItEdWYMuPgdP2WZZk+vz2t7/97f8vnweAVxIAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAEwAYAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAPxS1i/QdvsBEvvb3/729wMAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAQAAAEAAABAAAAQBAAAC4IW23L5BMn9/+9re//f0AABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAEAATAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgAgAAAIAAACAIAAACAAAJyR9Qu03X6AxP72t7/9/QAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAEAAABAAAAQBAAAAQAABuSNvtCyTT57e//e1vfz8AAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABABAAEwAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAIAAACAIAAACAAAAgAAGdk/QJttx8gsb/97W9/PwAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAIAb0nb7Asn0+e1vf/vb3w8AAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAAATABAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAACAIAAACAAAAgAAAIAwBlZv0Db7QdI7G9/+9vfDwAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAAAQBAAAAQAAAEAAABAOCGL4MkY+1A+o9iAAAAAElFTkSuQmCC";return n28;})());m28.file.set("std-vertex.es2",atob("cHJlY2lzaW9uIGhpZ2hwIGZsb2F0Ow0KDQphdHRyaWJ1dGUgdmVjMyBhVmVydGV4UG9zaXRpb247DQphdHRyaWJ1dGUgdmVjMyBhVmVydGV4Tm9ybWFsOw0KYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDsNCmF0dHJpYnV0ZSB2ZWMzIGFVVmVjdG9yOw0KYXR0cmlidXRlIHZlYzMgYVZWZWN0b3I7DQoNCnVuaWZvcm0gbWF0NCB1TW9kZWxNYXRyaXg7DQp1bmlmb3JtIG1hdDQgdUNhbWVyYU1hdHJpeDsNCnVuaWZvcm0gbWF0NCB1Vmlld3BvcnRNYXRyaXg7DQp1bmlmb3JtIG1hdDQgdVZpZXdwb3J0TWF0cml4SW52ZXJzZTsNCnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lOw0KDQp2YXJ5aW5nIGxvd3AgdmVjNCB2Q29sb3I7DQp2YXJ5aW5nIGhpZ2hwIHZlYzIgdlRleHR1cmVDb29yZDsNCnZhcnlpbmcgaGlnaHAgZmxvYXQgdk5vcm1hbGl6ZWREZXB0aDsNCnZhcnlpbmcgaGlnaHAgdmVjNCB2UG9zaXRpb247DQp2YXJ5aW5nIGhpZ2hwIHZlYzMgdk1vZGVsU3BhY2VQb3NpdGlvbjsNCnZhcnlpbmcgaGlnaHAgdmVjMyB2Q2FtU3BhY2VQb3NpdGlvbjsNCnZhcnlpbmcgaGlnaHAgdmVjMyB2Tm9ybWFsOw0KdmFyeWluZyBoaWdocCB2ZWMzIHZVVmVjdG9yOw0KdmFyeWluZyBoaWdocCB2ZWMzIHZWVmVjdG9yOw0KDQp2b2lkIG1haW4odm9pZCkgew0KICAgIHZlYzQgbW9kZWxTcGFjZSA9IHVNb2RlbE1hdHJpeCAqIHZlYzQoYVZlcnRleFBvc2l0aW9uLCAxLjApOw0KICAgIHZlYzQgY2FtZXJhU3BhY2UgPSB1Q2FtZXJhTWF0cml4ICogbW9kZWxTcGFjZTsNCiAgICB2ZWM0IGNsaXBTcGFjZSA9IHVWaWV3cG9ydE1hdHJpeCAqIGNhbWVyYVNwYWNlOw0KICAgIGdsX1Bvc2l0aW9uID0gY2xpcFNwYWNlOw0KICAgIHZQb3NpdGlvbiA9IGNsaXBTcGFjZTsNCiAgICB2Q2FtU3BhY2VQb3NpdGlvbiA9IGNhbWVyYVNwYWNlLnh5eiAvIGNhbWVyYVNwYWNlLnc7DQogICAgdk1vZGVsU3BhY2VQb3NpdGlvbiA9IG1vZGVsU3BhY2UueHl6IC8gbW9kZWxTcGFjZS53Ow0KICAgIC8vIEFjdHVhbGx5IHRoZSBjYWxjdWxhdGlvbiBiZWxvdyBpcyBub3QgY29ycmVjdCwgc2VlIHRoZSBkaXNjdXNzaW9uIGF0DQogICAgLy8gICBodHRwOi8vd3d3LmxpZ2h0aG91c2UzZC5jb20vdHV0b3JpYWxzL2dsc2wtMTItdHV0b3JpYWwvdGhlLW5vcm1hbC1tYXRyaXgvDQogICAgLy8gQWxzbywgaXJyaXRhdGluZ2x5LCBXZWJHTCAocmVhZCBHTCBFUykgZG9lc24ndCBzdXBwb3J0IHRoZSBpbnZlcnNlKCkgZnVuY3Rpb24uICBBbmQgY2FsY3VsYXRpbmcNCiAgICAvLyB0aGUgaW52ZXJzZSBpbiBKYXZhc2NyaXB0IGZvciBlYWNoIG1lc2ggYXQgZXZlcnkgZnJhbWUgaXMgbGlrZWx5IHRvIGJlIHNsb3cuICBTbyBJJ20gc3RpY2tpbmcgd2l0aA0KICAgIC8vIHRoaXMgdW50aWwgSSBjYW4gaW1wbGVtZW50IGFuIGludmVyc2UgZnVuY3Rpb24gaW4gR0xTTC4gIEhvcGVmdWxseSB0aGUgR1BVIGNvbXBpbGVyIHdpbGwgYmUgZ29vZA0KICAgIC8vIGVub3VnaCB0byBvcHRpbWl6ZSB0aGlzIG91dCBvZiB0aGUgdmVydGV4IHBpcGVsaW5lLg0KICAgIHZlYzQgbm9ybWFsID0gdU1vZGVsTWF0cml4ICogdmVjNChhVmVydGV4Tm9ybWFsLCAwLjApOw0KICAgIHZOb3JtYWwgPSBub3JtYWwueHl6Ow0KICAgIHZlYzQgdVZlYyA9IHVNb2RlbE1hdHJpeCAqIHZlYzQoYVVWZWN0b3IsIDAuMCk7DQogICAgdlVWZWN0b3IgPSB1VmVjLnh5ejsNCiAgICB2ZWM0IHZWZWMgPSB1TW9kZWxNYXRyaXggKiB2ZWM0KGFWVmVjdG9yLCAwLjApOw0KICAgIHZWVmVjdG9yID0gdlZlYy54eXo7DQogICAgaWYgKHVXaXJlZnJhbWUpIHsNCiAgICAgICAgdk5vcm1hbGl6ZWREZXB0aCA9IGNsaXBTcGFjZS56IC8gY2xpcFNwYWNlLnc7DQogICAgICAgIHZlYzQgYyA9IHVDYW1lcmFNYXRyaXggKiB1TW9kZWxNYXRyaXggKiB2ZWM0KGFWZXJ0ZXhOb3JtYWwsIDAuMCk7DQogICAgICAgIHZlYzMgY2FtZXJhTm9ybWFsID0gbm9ybWFsaXplKHZlYzMoYy54LCBjLnksIGMueikpOw0KICAgICAgICB2Q29sb3IgPSB2ZWM0KDAuNSpjYW1lcmFOb3JtYWwueHl6K3ZlYzMoMC41LDAuNSwwLjUpLCAxLjApOw0KICAgIH0NCiAgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDsNCn0="));m28.file.set("std-fragment.es2",atob("cHJlY2lzaW9uIGhpZ2hwIGZsb2F0Ow0KDQpjb25zdCBpbnQgTUFYX0xJR0hUUyA9IDIwOw0KDQpzdHJ1Y3QgQ29tcGxleCB7DQogICAgZmxvYXQgUmU7DQogICAgZmxvYXQgSW07DQp9Ow0KDQp1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTsNCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHVOb3JtYWxNYXA7DQp1bmlmb3JtIGJvb2wgdU5vcm1hbE1hcHBpbmc7DQp1bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTsNCnVuaWZvcm0gYm9vbCB1UmVuZGVyRWRnZXM7DQp1bmlmb3JtIG1hdDQgdVZpZXdwb3J0TWF0cml4Ow0KdW5pZm9ybSBtYXQ0IHVDYW1lcmFNYXRyaXhJbnZlcnNlOw0KdW5pZm9ybSBpbnQgdU51bWJlck9mTGlnaHRzOw0KdW5pZm9ybSB2ZWMzIHVMaWdodFBvc2l0aW9uc1tNQVhfTElHSFRTXTsNCnVuaWZvcm0gdmVjMyB1TGlnaHRDb2xvcnNbTUFYX0xJR0hUU107DQp1bmlmb3JtIENvbXBsZXggdVJlZnJhY3RpdmVJbmRleDsNCnVuaWZvcm0gZmxvYXQgdUFtYmllbnRSZWZyYWN0aXZlSW5kZXg7DQp1bmlmb3JtIHZlYzMgdUFtYmllbnRMaWdodDsNCnVuaWZvcm0gdmVjNCB1SGlnaGxpZ2h0Q29sb3I7DQp1bmlmb3JtIGZsb2F0IHVHbG9zczsNCg0KdmFyeWluZyBsb3dwIHZlYzQgdkNvbG9yOw0KdmFyeWluZyBoaWdocCB2ZWMyIHZUZXh0dXJlQ29vcmQ7DQp2YXJ5aW5nIGhpZ2hwIGZsb2F0IHZOb3JtYWxpemVkRGVwdGg7DQp2YXJ5aW5nIGhpZ2hwIHZlYzQgdlBvc2l0aW9uOw0KdmFyeWluZyBoaWdocCB2ZWMzIHZNb2RlbFNwYWNlUG9zaXRpb247DQp2YXJ5aW5nIGhpZ2hwIHZlYzMgdkNhbVNwYWNlUG9zaXRpb247DQp2YXJ5aW5nIGhpZ2hwIHZlYzMgdk5vcm1hbDsNCnZhcnlpbmcgaGlnaHAgdmVjMyB2VVZlY3RvcjsNCnZhcnlpbmcgaGlnaHAgdmVjMyB2VlZlY3RvcjsNCg0KZmxvYXQgbW9kaWZpZWRCZXNzZWxfMChmbG9hdCB4KSB7DQogICAgZmxvYXQgYXggPSBhYnMoeCk7DQogICAgZmxvYXQgeTsNCg0KICAgaWYgKGF4IDwgMy43NSkgew0KICAgICAgeSA9IHgvMy43NTsNCiAgICAgIHkgPSB5Knk7DQogICAgICByZXR1cm4gMS4wICsgeSooMy41MTU2MjI5ICsgeSooMy4wODk5NDI0ICsgeSooMS4yMDY3NDkyICsgeSooMC4yNjU5NzMyICsgeSooMC4zNjA3NjhlLTEgKyB5KjAuNDU4MTNlLTIpKSkpKTsNCiAgIH0gZWxzZSB7DQogICAgICB5ID0gMy43NSAvIGF4Ow0KICAgICAgcmV0dXJuIChleHAoYXgpL3NxcnQoYXgpKSAqICgwLjM5ODk0MjI4ICsgeSooMC4xMzI4NTkyZS0xICsgeSooMC4yMjUzMTllLTIgKyB5KigtMC4xNTc1NjVlLTIgKyB5KigwLjkxNjI4MWUtMg0KICAgICAgICAgKyB5KigtMC4yMDU3NzA2ZS0xICsgeSooMC4yNjM1NTM3ZS0xICsgeSooLTAuMTY0NzYzM2UtMSArIHkqMC4zOTIzNzdlLTIpKSkpKSkpKTsNCiAgIH0NCn0NCg0KdmVjMyB3bm9ybSh2ZWM0IHgpIHsNCiAgICByZXR1cm4geC54eXogLyB4Lnc7DQp9DQoNCnZvaWQgbWFpbih2b2lkKSB7DQogICAgaWYgKCFnbF9Gcm9udEZhY2luZykNCiAgICAgICAgZGlzY2FyZDsNCiAgICBpZiAodVJlbmRlckVkZ2VzKSB7DQogICAgICAgIGZsb2F0IHogPSBzcXJ0KHZQb3NpdGlvbi56IC8gMi4wICsgMC41KTsNCiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh6LCB6LCB6LCAxLjApOw0KICAgIH0gZWxzZSBpZiAodVdpcmVmcmFtZSkgew0KICAgICAgICAvLyB0cnkgdG8gZmxhdHRlbiB0aGUgZGVwdGggb3V0IGEgYml0IHNvIGl0IHJlcHJlc2VudHMgYmV0dGVyIGluIGxpbWl0ZWQgYml0cw0KICAgICAgICBmbG9hdCBkZXB0aFJlcCA9IGxvZyh2Tm9ybWFsaXplZERlcHRoICogKGV4cCgxLjApIC0gMS4wKSArIDEuMCk7DQogICAgICAgIGRlcHRoUmVwID0gbG9nKGRlcHRoUmVwICogKGV4cCgxLjApIC0gMS4wKSArIDEuMCk7DQogICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQodkNvbG9yLnJnYiwgZGVwdGhSZXApOw0KICAgIH0gZWxzZSB7DQogICAgICAgIHZlYzQgdGV4dHVyZUNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2ZWMyKHZUZXh0dXJlQ29vcmQucywgdlRleHR1cmVDb29yZC50KSk7DQogICAgICAgIHZlYzQgZnJhZ0NvbG9yOw0KICAgICAgICBpZiAodU51bWJlck9mTGlnaHRzID4gMCkgew0KICAgICAgICAgICAgdmVjMyBjYW1lcmFQb3NpdGlvbiA9IHdub3JtKHVDYW1lcmFNYXRyaXhJbnZlcnNlICogdmVjNCgwLjAsIDAuMCwgMC4wLCAxLjApKTsNCiAgICAgICAgICAgIHZlYzMgbm9ybWFsID0gbm9ybWFsaXplKHZOb3JtYWwpOw0KICAgICAgICAgICAgaWYgKHVOb3JtYWxNYXBwaW5nKSB7DQogICAgICAgICAgICAgICAgbG93cCB2ZWM0IGRpc3BsYWNlbWVudCA9IHRleHR1cmUyRCh1Tm9ybWFsTWFwLCB2ZWMyKHZUZXh0dXJlQ29vcmQucywgdlRleHR1cmVDb29yZC50KSk7DQogICAgICAgICAgICAgICAgbm9ybWFsID0gbm9ybWFsaXplKA0KICAgICAgICAgICAgICAgICAgICAyLjAqKGRpc3BsYWNlbWVudC5yIC0gMC41KSpub3JtYWxpemUodlVWZWN0b3IpDQogICAgICAgICAgICAgICAgICArIDIuMCooZGlzcGxhY2VtZW50LmcgLSAwLjUpKm5vcm1hbGl6ZSh2VlZlY3RvcikNCiAgICAgICAgICAgICAgICAgICsgMi4wKihkaXNwbGFjZW1lbnQuYiAtIDAuNSkqbm9ybWFsKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZlYzMgdG90YWxMaWdodCA9IHZlYzMoMCwgMCwgMCk7DQogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IE1BWF9MSUdIVFM7ICsraSkgew0KICAgICAgICAgICAgICAgIGlmIChpID49IHVOdW1iZXJPZkxpZ2h0cykNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgdmVjMyBsaWdodENvbG9yID0gdUxpZ2h0Q29sb3JzW2ldOw0KICAgICAgICAgICAgICAgIHZlYzMgbGlnaHRQb3NpdGlvbiA9IHVMaWdodFBvc2l0aW9uc1tpXTsNCiAgICAgICAgICAgICAgICBpZiAobGlnaHRDb2xvci5yID09IDAuMCAmJiBsaWdodENvbG9yLmcgPT0gMC4wICYmIGxpZ2h0Q29sb3IuYiA9PSAwLjApDQogICAgICAgICAgICAgICAgICAgIGxpZ2h0Q29sb3IgPSB2ZWMzKDEuMCwxLjAsMS4wKTsNCiAgICAgICAgICAgICAgICB2ZWMzIGluY2lkZW50ID0gbm9ybWFsaXplKHZNb2RlbFNwYWNlUG9zaXRpb24gLSBsaWdodFBvc2l0aW9uKTsNCiAgICAgICAgICAgICAgICB2ZWMzIHJlZmxlY3RpdmUgPSByZWZsZWN0KGluY2lkZW50LCBub3JtYWwpOw0KICAgICAgICAgICAgICAgIGZsb2F0IG4xID0gdUFtYmllbnRSZWZyYWN0aXZlSW5kZXg7DQogICAgICAgICAgICAgICAgaWYgKG4xID09IDAuMCkNCiAgICAgICAgICAgICAgICAgICAgbjEgPSAxLjA7DQogICAgICAgICAgICAgICAgZmxvYXQgY3RpID0gLWRvdChub3JtYWwsIGluY2lkZW50KTsNCiAgICAgICAgICAgICAgICBpZiAoY3RpIDwgMC4wKQ0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gdGhpcyBsaWdodCBpcyBiZWhpbmQgdGhpcyBmYWNlDQogICAgICAgICAgICAgICAgZmxvYXQgc3RpID0gc3FydCgxLjAgLSBjdGkqY3RpKTsNCiAgICAgICAgICAgICAgICBmbG9hdCBSOw0KICAgICAgICAgICAgICAgIFIgPSB1UmVmcmFjdGl2ZUluZGV4LlJlOw0KICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSByZWZsZWN0YW5jZSB1c2luZyB0aGUgRnJlc25lbCBlcXVhdGlvbnMNCiAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBhIHdheSB0byBkbyB0aGlzIGluIDggbXVscyBidXQgSSdtIHRvbyBsYXp5IDotKQ0KICAgICAgICAgICAgICAgIGlmICh1UmVmcmFjdGl2ZUluZGV4LkltID09IDAuMCkgeyAvLyBzaW1wbGUgY2FzZSBmb3Igbm9uLWNvbmR1Y3RvcnMNCiAgICAgICAgICAgICAgICAgICBmbG9hdCBuMiA9IHVSZWZyYWN0aXZlSW5kZXguUmU7DQogICAgICAgICAgICAgICAgICAgIGlmIChuMiA9PSAwLjApDQogICAgICAgICAgICAgICAgICAgICAgICBuMiA9IDEuNTsgLy8gZ29vZCBkZWZhdWx0IGZvciBwbGFzdGlja3kgc29saWRzDQogICAgICAgICAgICAgICAgICAgIGZsb2F0IHN0dCA9IG4xL24yKnN0aTsNCiAgICAgICAgICAgICAgICAgICAgZmxvYXQgY3R0ID0gc3FydCgxLjAgLSBzdHQqc3R0KTsNCiAgICAgICAgICAgICAgICAgICAgZmxvYXQgYSA9IG4xKmN0aSAtIG4yKmN0dDsNCiAgICAgICAgICAgICAgICAgICAgZmxvYXQgYiA9IG4xKmN0dCAtIG4yKmN0aTsNCiAgICAgICAgICAgICAgICAgICAgZmxvYXQgYyA9IG4xKmN0aSArIG4yKmN0dDsNCiAgICAgICAgICAgICAgICAgICAgUiA9IDAuNSooYSphICsgYipiKS8oYypjKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBSID0gMC4wOyAvLyBUT0RPDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIEZvciB0aGUgZ2xvc3MgKG9yIHJvdWdobmVzcyksIHdlIGFzc3VtZSBhIHZvbiBNaXNlcyBkaXN0cmlidXRpb24gb2YgZGVmbGVjdGlvbiBhbmdsZXMgZnJvbQ0KICAgICAgICAgICAgICAgIC8vIHRoZSBwcmluY2lwYWwgcmVmbGVjdGlvbiB2ZWN0b3IuICBUaGUgayBwYXJhbWV0ZXIgb2YgdGhlIGRpc3RyaWJ1dGlvbiBpcyBzdWNoIHRoYXQgaz0wIGltcGxpZXMNCiAgICAgICAgICAgICAgICAvLyBwZXJmZWN0bHkgZXZlbiBkaXN0cmlidXRpb24gKGVxdWl2YWxlbnQgdG8gYSBmdWxseS1kaWZmdXNlIHN1cmZhY2UpLCBhbmQgYXMgayAtPiDiiJ4sIHRoZSBkaXN0cmlidXRpb24NCiAgICAgICAgICAgICAgICAvLyB0ZW5kcyB0b3dhcmRzIHRoZSBEaXJhYyBkZWx0YSBmdW5jdGlvbiAoaS5lLiBhbiBpbmZpbml0ZSBzcGlrZSBhdCAwKS4gIFRoZSBpbnRlZ3JhbCB1bmRlciB0aGUNCiAgICAgICAgICAgICAgICAvLyBQREYgaXMgb2YgY291cnNlIDEsIHNvIGVuZXJneSBpcyBjb25zZXJ2ZWQuICBXZSBjYW4gaWRlbnRpZnkgdUdsb3NzID0gMSA9PiBrID0g4oieIGFuZA0KICAgICAgICAgICAgICAgIC8vIHVHbG9zcyA9IDAgPT4gayA9IDANCiAgICAgICAgICAgICAgICBmbG9hdCBTID0gMC4wOw0KICAgICAgICAgICAgICAgIHZlYzMgY2FtZXJhVmVjID0gbm9ybWFsaXplKGNhbWVyYVBvc2l0aW9uIC0gdk1vZGVsU3BhY2VQb3NpdGlvbik7DQogICAgICAgICAgICAgICAgZmxvYXQgY29zX3QgPSBkb3QoY2FtZXJhVmVjLCByZWZsZWN0aXZlKTsNCiAgICAgICAgICAgICAgICBmbG9hdCBrID0gMi43MTgvKDEuMC11R2xvc3MpLTIuNzE4Ow0KICAgICAgICAgICAgICAgIGlmICh1R2xvc3MgPiAwLjk3KSAgLy8gaW4gdGhlb3J5LCB3aGF0IGhhcHBlbnMgaGVyZSBpcyBhbGwgdGhlIGxpZ2h0IGdvZXMgYWxvbmcgdGhlIHJlZmxlY3RpdmUgdmVjdG9yLg0KICAgICAgICAgICAgICAgICAgICBrID0gODcuODgyOyAgICAgLy8gaW4gcHJhY3RpY2UsIHRoaXMganVzdCBvdmVyZmxvd3MgYWxsIHRoZSBjYWxjdWxhdGlvbnMNCiAgICAgICAgICAgICAgICBmbG9hdCBJID0gbW9kaWZpZWRCZXNzZWxfMChrKTsNCiAgICAgICAgICAgICAgICBTID0gUiAqIGV4cChrICogY29zX3QpIC8gKDYuMjgzMTg1MyAqIEkpOw0KICAgICAgICAgICAgICAgIC8vIFNvIHRoZSBlbmVyZ3kgZnJvbSB0aGUgaW5jb21pbmcgbGlnaHQgaXMgZGlzdHJpYnV0ZWQgYXMgZm9sbG93czoNCiAgICAgICAgICAgICAgICAvLyAgIFIgLSBnZXRzIHJlZmxlY3RlZCBvZmYgc29tZXdoZXJlIGVsc2UNCiAgICAgICAgICAgICAgICAvLyAgIFMgLSBnZXRzIHJlZmxlY3RlZCBpbnRvIHRoZSBjYW1lcmENCiAgICAgICAgICAgICAgICAvLyAgIEQgLSBpcyBlbWl0dGVkIHVuaWZvcm1seSBpbiBhbGwgZGlyZWN0aW9ucw0KICAgICAgICAgICAgICAgIC8vIFRoZXJlZm9yZSB3aGF0IHJlYWNoZXMgdGhlIGNhbWVyYSBpcyBTICsgRC9waQ0KICAgICAgICAgICAgICAgIC8vIHJlbGF0aXZlIGVuZXJnaWVzIG9mIGNvbG9ycyB1c2VkIGhlcmU6IDAuMzByICsgMC41OWcgKyAwLjExYiBiYXNlZCBvbiBZVVYgaW50ZW5zaXR5IG1vZGVsDQogICAgICAgICAgICAgICAgLy8gbWF4aW11bSB0b3RhbCBlbmVyZ3k6IDEvMC4zICsgMS8wLjU5ICsgMS8wLjExID0gMTQuMTE5MTU3Njc4NDc5NzEyMzc4MDE3NDYyNzYzMjI1DQogICAgICAgICAgICAgICAgZmxvYXQgZW5lcmd5SW5jb21pbmcgPQ0KICAgICAgICAgICAgICAgICAgICAobGlnaHRDb2xvci5yIC8gMC4zICsgbGlnaHRDb2xvci5nIC8gMC41OSArIGxpZ2h0Q29sb3IuYiAvIDAuMTEpIC8gMTQuMTEyOw0KICAgICAgICAgICAgICAgIGZsb2F0IGQgPSAoMS4wIC0gUikgKiBlbmVyZ3lJbmNvbWluZzsNCiAgICAgICAgICAgICAgICBmbG9hdCBzID0gUyAqIGVuZXJneUluY29taW5nOw0KICAgICAgICAgICAgICAgIHRvdGFsTGlnaHQgKz0gZCAqIHRleHR1cmVDb2xvci5yZ2IgKiBsaWdodENvbG9yLnJnYiArIHMgKiBsaWdodENvbG9yLnJnYjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRvdGFsTGlnaHQgKz0gdUFtYmllbnRMaWdodC5yZ2IgKiB0ZXh0dXJlQ29sb3IucmdiOw0KICAgICAgICAgICAgZnJhZ0NvbG9yID0gdmVjNCgoMS4wIC0gdUhpZ2hsaWdodENvbG9yLmEpICogdG90YWxMaWdodC5yZ2IgKyB1SGlnaGxpZ2h0Q29sb3IuYSAqIHVIaWdobGlnaHRDb2xvci5yZ2IsIDEuMCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBmcmFnQ29sb3IgPSB0ZXh0dXJlQ29sb3I7DQogICAgICAgIH0NCiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gZnJhZ0NvbG9yOw0KICAgIH0NCn0="));m28.file.set("wfm-vertex.es2",atob("YXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uOw0KYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDsNCg0KdmFyeWluZyBoaWdocCB2ZWMyIHZUZXh0dXJlQ29vcmQ7DQoNCnZvaWQgbWFpbih2b2lkKSB7DQogICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFWZXJ0ZXhQb3NpdGlvbi54LCBhVmVydGV4UG9zaXRpb24ueSwgMC4wLCAxLjApOw0KICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkOw0KfQ=="));m28.file.set("wfm-fragment.es2",atob("I2V4dGVuc2lvbiBHTF9FWFRfZnJhZ19kZXB0aCA6IGVuYWJsZQ0KcHJlY2lzaW9uIGhpZ2hwIGZsb2F0Ow0KDQp1bmlmb3JtIHNhbXBsZXIyRCB1V2lyZWZyYW1lOw0KdW5pZm9ybSB2ZWMyIHVWaWV3cG9ydFNpemU7DQp1bmlmb3JtIG1hdDQgdVZpZXdwb3J0TWF0cml4Ow0KdW5pZm9ybSBtYXQ0IHVWaWV3cG9ydE1hdHJpeEludmVyc2U7DQoNCnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkOw0KDQp2b2lkIG1haW4odm9pZCkgew0KICAgIHZlYzQgcGl4ID0gdGV4dHVyZTJEKHVXaXJlZnJhbWUsIHZUZXh0dXJlQ29vcmQpOw0KICAgIGlmIChwaXguYSA9PSAwLjApIHsNCiAgICAgICAgZGlzY2FyZDsNCiAgICB9IGVsc2Ugew0KICAgICAgICB2ZWMyIG9uZVBpeGVsID0gdmVjMigxLjAsIDEuMCkgLyB1Vmlld3BvcnRTaXplOw0KICAgICAgICB2ZWM0IGVkZ2UgPSAoOC4qcGl4IC0NCiAgICAgICAgICAgIHRleHR1cmUyRCh1V2lyZWZyYW1lLCB2VGV4dHVyZUNvb3JkICsgdmVjMigtb25lUGl4ZWwueCwgLW9uZVBpeGVsLnkpKSAtDQogICAgICAgICAgICB0ZXh0dXJlMkQodVdpcmVmcmFtZSwgdlRleHR1cmVDb29yZCArIHZlYzIoLW9uZVBpeGVsLngsIDApKSAtDQogICAgICAgICAgICB0ZXh0dXJlMkQodVdpcmVmcmFtZSwgdlRleHR1cmVDb29yZCArIHZlYzIoLW9uZVBpeGVsLngsIG9uZVBpeGVsLnkpKSAtDQogICAgICAgICAgICB0ZXh0dXJlMkQodVdpcmVmcmFtZSwgdlRleHR1cmVDb29yZCArIHZlYzIoMCwgLW9uZVBpeGVsLnkpKSAtDQogICAgICAgICAgICB0ZXh0dXJlMkQodVdpcmVmcmFtZSwgdlRleHR1cmVDb29yZCArIHZlYzIoMCwgb25lUGl4ZWwueSkpIC0NCiAgICAgICAgICAgIHRleHR1cmUyRCh1V2lyZWZyYW1lLCB2VGV4dHVyZUNvb3JkICsgdmVjMihvbmVQaXhlbC54LCAtb25lUGl4ZWwueSkpIC0NCiAgICAgICAgICAgIHRleHR1cmUyRCh1V2lyZWZyYW1lLCB2VGV4dHVyZUNvb3JkICsgdmVjMihvbmVQaXhlbC54LCAwKSkgLQ0KICAgICAgICAgICAgdGV4dHVyZTJEKHVXaXJlZnJhbWUsIHZUZXh0dXJlQ29vcmQgKyB2ZWMyKG9uZVBpeGVsLngsIG9uZVBpeGVsLnkpKSkvOC4gOw0KICAgICAgICBmbG9hdCBlZGdpbmVzcyA9IGVkZ2UuciplZGdlLnIgKyBlZGdlLmcqZWRnZS5nICsgZWRnZS5iKmVkZ2UuYjsNCiAgICAgICAgaWYgKGVkZ2luZXNzID4gMC4wMSkgew0KICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgxLDEsMSwxKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZsb2F0IHkgPSAwLjErcGl4LmEtMC4yKihwaXguYi0wLjUpKihwaXguYi0wLjUpOw0KICAgICAgICAgICAgZmxvYXQgdSA9IDAuMDgqKHBpeC5yLTAuNSkqKHBpeC5yLTAuNSk7DQogICAgICAgICAgICBmbG9hdCB2ID0gMC4xMioocGl4LmctMC41KSoocGl4LmctMC41KTsNCiAgICAgICAgICAgIGdsX0ZyYWdDb2xvcj12ZWM0KHkseSt1LHkrdiwwLjUpOw0KICAgICAgICB9DQojaWZkZWYgR0xfRVhUX2ZyYWdfZGVwdGgNCiAgICAgICAgZmxvYXQgZGVwdGhSZXAgPSBwaXguYTsNCiAgICAgICAgZmxvYXQgbmRjX2RlcHRoID0gKGV4cChkZXB0aFJlcCkgLSAxLjApLyhleHAoMS4wKSAtIDEuMCk7DQogICAgICAgIG5kY19kZXB0aCA9IChleHAobmRjX2RlcHRoKSAtIDEuMCkvKGV4cCgxLjApIC0gMS4wKTsNCiAgICAgICAgZmxvYXQgZmFyID0gZ2xfRGVwdGhSYW5nZS5mYXI7DQogICAgICAgIGZsb2F0IG5lYXIgPSBnbF9EZXB0aFJhbmdlLm5lYXI7DQogICAgICAgIGdsX0ZyYWdEZXB0aEVYVCA9ICgoKGZhciAtIG5lYXIpICogbmRjX2RlcHRoKSArIG5lYXIgKyBmYXIpIC8gMi4wOw0KI2VuZGlmDQogICAgICAgIC8vZ2xfRnJhZ0NvbG9yID0gdmVjNChkdi56LCAwLDAsMSk7DQogICAgfQ0KfQ=="));m28.all({'loadingtexture.png':m28.image,'std-vertex.es2':m28.file,'std-fragment.es2':m28.file,'wfm-vertex.es2':m28.file,'wfm-fragment.es2':m28.file}).then(function(preloaded){try{var o28=new n20(l28,t20.width,t20.height,m28);t20.__renderjs=o28;resolve(o28);}catch(error){reject(error);}});}catch(error){reject(error);}});}return s20;})();renderjs.createRenderer=createRenderer;var Primitives=(function(){function p28(q28,r28){if(q28 instanceof Array){if(!(r28 instanceof Array))throw {error:'expecting array object'};return q28.concat(r28);}for(var d29 in r28){if(typeof q28[d29]!='object')q28[d29]=r28[d29]; else q28[d29]=p28(q28[d29],r28[d29]);}return q28;}var s28=0.525731112119133606;var t28=0.850650808352039932;var u28=[[-s28,0,t28],[s28,0,t28],[-s28,0,-t28],[s28,0,-t28],[0,t28,s28],[0,t28,-s28],[0,-t28,s28],[0,-t28,-s28],[t28,s28,0],[-t28,s28,0],[t28,-s28,0],[-t28,-s28,0]];var v28=[[0,1,4],[0,4,9],[9,4,5],[4,8,5],[4,1,8],[8,1,10],[8,10,3],[5,8,3],[5,3,2],[2,3,7],[7,3,10],[7,10,6],[7,6,11],[11,6,0],[0,6,1],[6,10,1],[9,11,0],[9,2,11],[9,5,2],[7,11,2]];var w28=Geometry.Maps;function x28(y28,z28,a29,b29){for(var e29=0;e29<y28.vertices.length;++e29){var f29=y28.vertices[e29];var g29=y28.normals[e29];var h29=y28.texCoords[e29];if(((((((z28[0]==f29[0]&&z28[1]==f29[1])&&z28[2]==f29[2])&&a29[0]==g29[0])&&a29[1]==g29[1])&&a29[2]==g29[2])&&b29[0]==h29[0])&&b29[1]==h29[1])return e29;}y28.vertices.push(z28);y28.normals.push(a29);y28.texCoords.push(b29);return e29;}var c29={cube:function(properties,options){var i29;options=options||{};if(options.projection=='square'){i29=[[0.333,0.667],[0.667,0.667],[0.667,0.333],[0.333,0.333],[0.000,0.667],[0.333,0.667],[0.333,0.333],[0.000,0.333],[0.667,0.667],[1.000,0.667],[1.000,0.333],[0.667,0.333],[0.333,0.333],[0.667,0.333],[0.667,0.000],[0.333,0.000],[0.333,1.000],[0.667,1.000],[0.667,0.667],[0.333,0.667],[0.000,0.333],[0.333,0.333],[0.333,0.000],[0.000,0.000]];} else {i29=[[0.50,0.75],[0.75,0.50],[0.50,0.25],[0.25,0.50],[0.25,1.00],[0.50,0.75],[0.25,0.50],[0.00,0.75],[0.75,0.50],[1.00,0.25],[0.75,0.00],[0.50,0.25],[0.25,0.50],[0.50,0.25],[0.25,0.00],[0.00,0.25],[0.75,1.00],[1.00,0.75],[0.75,0.50],[0.50,0.75],[1.00,1.25],[1.25,1.00],[1.00,0.75],[0.75,1.00]];}return p28({mesh:{vertices:[[-0.5,-0.5,0.5],[0.5,-0.5,0.5],[0.5,0.5,0.5],[-0.5,0.5,0.5],[-0.5,-0.5,-0.5],[-0.5,-0.5,0.5],[-0.5,0.5,0.5],[-0.5,0.5,-0.5],[0.5,-0.5,0.5],[0.5,-0.5,-0.5],[0.5,0.5,-0.5],[0.5,0.5,0.5],[-0.5,0.5,0.5],[0.5,0.5,0.5],[0.5,0.5,-0.5],[-0.5,0.5,-0.5],[-0.5,-0.5,-0.5],[0.5,-0.5,-0.5],[0.5,-0.5,0.5],[-0.5,-0.5,0.5],[0.5,-0.5,-0.5],[-0.5,-0.5,-0.5],[-0.5,0.5,-0.5],[0.5,0.5,-0.5]],texCoords:i29,texture:'loadingtexture.png',faces:[[0,1,2],[2,3,0],[4,5,6],[6,7,4],[8,9,10],[10,11,8],[12,13,14],[14,15,12],[16,17,18],[18,19,16],[20,21,22],[22,23,20]]}},properties);},sphere:function(properties,options){options=options||{};options.targetTriangles=options.targetTriangles||320;options.projection=options.projection||w28.Polar;if(typeof options.projection=='string'){switch(options.projection){case 'polar':options.projection=w28.Polar;break;case 'hammer':case 'hammerAitoff':options.projection=w28.HammerAitoff;break;case 'mercator':options.projection=w28.Mercator;break;}}function j29(n29,o29){var u29=n29[0]+o29[0];var v29=n29[1]+o29[1];var w29=n29[2]+o29[2];var x29=Math.sqrt((u29*u29+v29*v29)+w29*w29);return [u29/x29,v29/x29,w29/x29];}function m29(n29,o29,p29,q29){if(q29>=r29){var y29=options.projection.getTextureCoordinates(n29,o29,p29);var z29=x28(s29,n29,n29,y29[0]);var a30=x28(s29,o29,o29,y29[1]);var b30=x28(s29,p29,p29,y29[2]);s29.faces.push([z29,a30,b30]);} else {var c30=j29(n29,o29);var d30=j29(o29,p29);var e30=j29(p29,n29);m29(n29,c30,e30,q29+1);m29(o29,d30,c30,q29+1);m29(p29,e30,d30,q29+1);m29(c30,d30,e30,q29+1);}}var r29=Math.round(Math.log(options.targetTriangles/20)/Math.log(4))|0;var s29={vertices:[],normals:[],texCoords:[],faces:[],texture:'loadingtexture.png'};for(var t29=0;t29<v28.length;++t29){m29(u28[v28[t29][0]],u28[v28[t29][1]],u28[v28[t29][2]],0);}return p28({mesh:s29},properties);},disc:function(properties,options){var f30=f30||{};var g30=(f30.numTriangles||24)|0;var h30=[];var i30=[];var j30=[];var k30=[];h30.push([0,0,0]);j30.push([0,0,1]);k30.push([0.5,0.5]);for(var l30=0;l30<g30;++l30){var m30=Math.cos(((l30*2)*Math.PI)/g30);var n30=Math.sin(((l30*2)*Math.PI)/g30);h30.push([m30,n30,0]);j30.push([0,0,1]);k30.push([(m30+1)/2,1-(n30+1)/2]);if(l30>0)i30.push([0,l30,l30+1]);}i30.push([0,l30,1]);return p28({mesh:{vertices:h30,normals:j30,texCoords:k30,faces:i30,texture:'loadingtexture.png'}},properties);}};return c29;})();renderjs.Primitives=Primitives;})(typeof window !== "undefined" ? window : this);